import{I as x,L as k,s as v,r as w,l as y,c as _,b as $,f as h,d as e,n as S,g as j,t as a,y as M,p as u,z as m,m as C}from"./index.DcH1kEMW.js";import{u as P}from"./useAlert.CfxTAlhR.js";import{N as V,F as E}from"./Footer.vdzzRb2g.js";import{b as q}from"./background_1.G6ugVxlm.js";import{_ as z}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./cartStore.Bv9yxI4b.js";import"./transition.sAq7OV1F.js";const B=x("contact",{state:()=>({isSubmitting:!1,lastSubmittedContact:null,error:null,successMessage:null}),actions:{async sendContactForm(l){var i,n,d,c,p;this.isSubmitting=!0,this.error=null,this.successMessage=null;try{const t=await k("contact/",l);if(t.data.success)return this.lastSubmittedContact=t.data.contact,this.successMessage=t.data.message,{success:!0,message:t.data.message,contact:t.data.contact};throw new Error("Unexpected response format")}catch(t){return((i=t.response)==null?void 0:i.status)===404?(this.error={general:"El servidor no está disponible. Por favor verifica que el backend esté corriendo en http://localhost:8000"},{success:!1,errors:this.error}):(d=(n=t.response)==null?void 0:n.data)!=null&&d.errors?(this.error=t.response.data.errors,{success:!1,errors:t.response.data.errors}):t.response?(this.error={general:((p=(c=t.response)==null?void 0:c.data)==null?void 0:p.message)||t.message||"Error al enviar el mensaje"},{success:!1,errors:this.error}):(this.error={general:"Error de conexión. Por favor verifica tu conexión a internet y que el backend esté corriendo."},{success:!1,errors:this.error})}finally{this.isSubmitting=!1}},clearState(){this.error=null,this.successMessage=null,this.lastSubmittedContact=null},reset(){this.isSubmitting=!1,this.lastSubmittedContact=null,this.error=null,this.successMessage=null}},getters:{hasErrors:l=>l.error!==null&&Object.keys(l.error).length>0,errorMessages:l=>{if(!l.error)return[];const i=[];for(const[n,d]of Object.entries(l.error))Array.isArray(d)?i.push(...d):i.push(d);return i}}}),U={class:"min-h-screen relative overflow-hidden flex flex-col"},D={class:"relative z-10 flex-1 flex items-center justify-center px-4 pt-32 md:pt-40 lg:pt-48 pb-8"},I={class:"w-full max-w-5xl"},F={class:"bg-white/40 backdrop-blur-lg rounded-xl md:rounded-2xl shadow-2xl p-4 md:p-6 lg:p-8"},N={class:"flex items-center justify-between mb-4 md:mb-6"},A={class:"text-xl md:text-2xl lg:text-3xl font-bold text-brand-dark font-comfortaa"},O=["aria-label"],T={class:"block text-brand-dark font-poppins font-medium text-xs md:text-sm mb-1"},L={class:"text-brand-dark font-poppins text-xs md:text-sm bg-white/20 rounded-lg px-3 py-2"},R={for:"email",class:"block text-brand-dark font-poppins font-medium text-xs md:text-sm mb-1"},H=["placeholder"],G={for:"name",class:"block text-brand-dark font-poppins font-medium text-xs md:text-sm mb-1"},J=["placeholder"],K={for:"phone",class:"block text-brand-dark font-poppins font-medium text-xs md:text-sm mb-1"},Q=["placeholder"],W={for:"subject",class:"block text-brand-dark font-poppins font-medium text-xs md:text-sm mb-1"},X=["placeholder"],Y={for:"message",class:"sr-only"},Z=["placeholder"],ee={class:"flex flex-col sm:flex-row justify-end gap-2 md:gap-3 pt-2"},te=["disabled"],se={__name:"ContactView",setup(l){const i=C(),n=B(),{showSuccess:d,showError:c}=P(),{t:p}=v(),t=w({email:"",name:"",phone:"",subject:"",message:""}),b=y(()=>n.isSubmitting),f=()=>{i.back()},g=async()=>{n.clearState();const s={email:t.value.email,nombre:t.value.name,numero:t.value.phone||"",asunto:t.value.subject,texto:t.value.message};try{if((await n.sendContactForm(s)).success)await d(n.successMessage||"Tu mensaje ha sido enviado exitosamente. Te responderemos pronto."),t.value={email:"",name:"",phone:"",subject:"",message:""};else{const o=n.errorMessages.join(`
`);await c(o||"Hubo un error al enviar el mensaje. Por favor intenta de nuevo.")}}catch(r){console.error("Error sending message:",r),await c("Ocurrió un error inesperado. Por favor intenta de nuevo.")}};return(s,r)=>($(),_("div",U,[h(V),e("div",{class:"absolute inset-0 z-0",style:S({backgroundImage:`url(${j(q)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"})},null,4),r[6]||(r[6]=e("div",{class:"absolute inset-0 z-0 bg-gradient-to-br from-brand-pink-lighter/30 via-brand-purple-light/20 to-brand-blue-light/30"},null,-1)),e("div",D,[e("div",I,[e("div",F,[e("div",N,[e("h1",A,a(s.$t("contact.title")),1),e("button",{onClick:f,class:"p-2 hover:bg-brand-pink-light/30 rounded-full transition-colors duration-200 flex-shrink-0","aria-label":s.$t("contact.goBack")},[...r[5]||(r[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-5 h-5 md:w-6 md:h-6 text-brand-dark"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1)])],8,O)]),e("form",{onSubmit:M(g,["prevent"]),class:"space-y-3 md:space-y-4"},[e("div",null,[e("label",T,a(s.$t("contact.for"))+": ",1),e("div",L,a(s.$t("contact.to"))+"@"+a(s.$t("contact.toDomain")),1)]),e("div",null,[e("label",R,a(s.$t("contact.from"))+": ",1),u(e("input",{id:"email","onUpdate:modelValue":r[0]||(r[0]=o=>t.value.email=o),type:"email",required:"",placeholder:`${s.$t("contact.emailPlaceholder")}@${s.$t("contact.emailPlaceholderDomain")}`,class:"w-full font-poppins !bg-transparent backdrop-blur-sm border-0 rounded-lg px-3 py-2 text-xs md:text-sm text-brand-dark placeholder-brand-dark/60 focus:outline-none focus:ring-2 focus:ring-brand-pink-dark/50 transition-all duration-200"},null,8,H),[[m,t.value.email]])]),e("div",null,[e("label",G,a(s.$t("contact.name"))+": ",1),u(e("input",{id:"name","onUpdate:modelValue":r[1]||(r[1]=o=>t.value.name=o),type:"text",required:"",placeholder:s.$t("contact.namePlaceholder"),class:"w-full font-poppins !bg-transparent backdrop-blur-sm border-0 rounded-lg px-3 py-2 text-xs md:text-sm text-brand-dark placeholder-brand-dark/60 focus:outline-none focus:ring-2 focus:ring-brand-pink-dark/50 transition-all duration-200"},null,8,J),[[m,t.value.name]])]),e("div",null,[e("label",K,a(s.$t("contact.number"))+": ",1),u(e("input",{id:"phone","onUpdate:modelValue":r[2]||(r[2]=o=>t.value.phone=o),type:"tel",placeholder:s.$t("contact.phonePlaceholder"),class:"w-full font-poppins !bg-transparent backdrop-blur-sm border-0 rounded-lg px-3 py-2 text-xs md:text-sm text-brand-dark placeholder-brand-dark/60 focus:outline-none focus:ring-2 focus:ring-brand-pink-dark/50 transition-all duration-200"},null,8,Q),[[m,t.value.phone]])]),e("div",null,[e("label",W,a(s.$t("contact.subject"))+": ",1),u(e("input",{id:"subject","onUpdate:modelValue":r[3]||(r[3]=o=>t.value.subject=o),type:"text",required:"",placeholder:s.$t("contact.subjectPlaceholder"),class:"w-full font-poppins !bg-transparent backdrop-blur-sm border-0 rounded-lg px-3 py-2 text-xs md:text-sm text-brand-dark placeholder-brand-dark/60 focus:outline-none focus:ring-2 focus:ring-brand-pink-dark/50 transition-all duration-200"},null,8,X),[[m,t.value.subject]])]),e("div",null,[e("label",Y,a(s.$t("contact.message")),1),u(e("textarea",{id:"message","onUpdate:modelValue":r[4]||(r[4]=o=>t.value.message=o),rows:"4",required:"",placeholder:s.$t("contact.messagePlaceholder"),class:"w-full font-poppins !bg-transparent backdrop-blur-sm border-0 rounded-lg px-3 py-2 text-xs md:text-sm text-brand-dark placeholder-brand-dark/60 focus:outline-none focus:ring-2 focus:ring-brand-pink-dark/50 transition-all duration-200 resize-none"},null,8,Z),[[m,t.value.message]])]),e("div",ee,[e("button",{type:"button",onClick:f,class:"w-full sm:w-auto px-6 py-2 rounded-full text-xs md:text-sm text-brand-dark font-poppins font-medium hover:bg-white/40 transition-all duration-200 order-2 sm:order-1"},a(s.$t("contact.cancel")),1),e("button",{type:"submit",disabled:b.value,class:"w-full sm:w-auto px-6 py-2 rounded-full text-xs md:text-sm bg-brand-blue-medium text-white font-poppins font-medium hover:bg-brand-blue-medium/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl order-1 sm:order-2"},a(b.value?s.$t("contact.sending"):s.$t("contact.send")),9,te)])],32)])])]),h(E)]))}},ce=z(se,[["__scopeId","data-v-ce099485"]]);export{ce as default};
