import{u as _,p as y,i as l,j as F,c as r,o as i,a as t,t as a,h as P,e as d,n as C,F as $,g as M,b as j,k as B,d as L}from"../index.js";import{u as S}from"./profileStore-DZizYbaJ.js";import{P as z}from"./ProductCard-C1-pDTjR.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./cartStore-VCuiRpOe.js";import"./authStore-tY-7-Xic.js";import"./constants-DjCFsGER.js";import"./wishlistStore-2Sa37WF2.js";const E={class:"py-4 md:py-6"},I={class:"px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto"},T={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6"},H={class:"text-2xl md:text-3xl font-bold text-gray-900"},V={class:"text-xs md:text-sm text-gray-600 mt-1"},A={class:"flex flex-wrap items-center gap-2 md:gap-3"},q=["disabled","title"],D={class:"hidden sm:inline"},R={class:"hidden sm:inline"},U={key:0,class:"flex justify-center py-12"},Y={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},G={class:"text-sm text-red-800"},J={key:2,class:"space-y-4 md:space-y-6"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-6"},O=["onClick","title"],Q={key:3,class:"text-center py-8 md:py-12"},W={class:"mt-3 md:mt-4 text-base md:text-lg font-medium text-gray-900"},X={class:"mt-2 text-xs md:text-sm text-gray-500"},Z={__name:"ProfileFavorites",setup(tt){const c=B(),s=S(),m=_(),{t:f}=y(),h=l(()=>s.favoriteProducts),u=l(()=>s.hasFavorites),p=l(()=>s.totalFavorites),g=e=>({id:e.woocommerce_product_id,name:e.product_name,price:e.product_price,images:e.product_image?[{src:e.product_image}]:[],stock_status:e.is_in_stock?"instock":"outofstock",slug:e.product_slug}),x=e=>{c.push({name:`ProductDetail-${m.locale}`,params:{id:e}})},k=async({productId:e,isFavorited:o})=>{o||await s.fetchFavoriteProducts()},b=async e=>{if(!confirm(f("profile.favorites.confirmRemove")||"¿Estás seguro de que deseas eliminar este producto de favoritos?"))return;(await s.removeProductFromFavorites(e)).success&&console.log("Producto eliminado de favoritos")},w=async()=>{await s.fetchFavoriteProducts(!0)},v=()=>{c.push({name:`Products-${m.locale}`})};return F(async()=>{await s.fetchFavoriteProducts()}),(e,o)=>(i(),r("div",E,[t("div",I,[t("div",T,[t("div",null,[t("h1",H,a(e.$t("profile.favorites.title")||"Mis Favoritos"),1),t("p",V,a(p.value)+" "+a(p.value!==1?e.$t("profile.favorites.productsPlural")||"productos favoritos":e.$t("profile.favorites.products")||"producto favorito"),1)]),t("div",A,[u.value?(i(),r("button",{key:0,onClick:w,disabled:d(s).isLoadingFavorites,class:"flex items-center gap-2 px-3 md:px-4 py-2 border-2 border-gray-400 text-gray-700 bg-white rounded-full text-xs md:text-sm font-medium hover:bg-gray-100 transition-colors disabled:opacity-50",title:e.$t("profile.favorites.refresh")||"Actualizar"},[(i(),r("svg",{class:C(["w-3 h-3 md:w-4 md:h-4",{"animate-spin":d(s).isLoadingFavorites}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...o[0]||(o[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),t("span",D,a(e.$t("profile.favorites.refresh")||"Actualizar"),1)],8,q)):P("",!0),t("button",{onClick:v,class:"flex items-center gap-2 px-3 md:px-4 py-2 border-2 border-brand-pink-medium text-brand-pink-medium bg-white rounded-full text-xs md:text-sm font-medium hover:bg-brand-pink-medium hover:text-white transition-colors"},[o[1]||(o[1]=t("svg",{class:"w-3 h-3 md:w-4 md:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)),t("span",R,a(e.$t("profile.favorites.goToShop")||"Ir a la tienda"),1)])])]),d(s).isLoadingFavorites&&!d(s).hasFavorites?(i(),r("div",U,[...o[2]||(o[2]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-pink-medium"},null,-1)])])):d(s).error?(i(),r("div",Y,[t("p",G,a(d(s).error),1)])):u.value?(i(),r("div",J,[t("div",K,[(i(!0),r($,null,M(h.value,n=>(i(),r("div",{key:n.id,class:"relative"},[t("button",{onClick:et=>b(n.woocommerce_product_id),class:"absolute top-2 right-2 z-10 bg-white hover:bg-red-600 text-gray-600 hover:text-white rounded-full p-1.5 shadow-md transition-colors",title:e.$t("profile.favorites.removeFromFavorites")||"Eliminar de favoritos"},[...o[3]||(o[3]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,O),L(z,{product:g(n),"is-in-favorites":!0,onNavigateToProduct:x,onFavoriteUpdated:k},null,8,["product"])]))),128))])])):(i(),r("div",Q,[o[5]||(o[5]=t("svg",{class:"mx-auto h-12 w-12 md:h-16 md:w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)),t("h3",W,a(e.$t("profile.favorites.noFavoritesYet")||"No tienes productos favoritos"),1),t("p",X,a(e.$t("profile.favorites.addFavoritesMessage")||"Empieza a agregar productos que te gusten a tus favoritos"),1),t("button",{onClick:v,class:"mt-4 inline-flex items-center gap-2 px-4 py-2 border-2 border-brand-pink-medium text-brand-pink-medium bg-white rounded-full text-xs md:text-sm font-medium hover:bg-brand-pink-medium hover:text-white transition-colors"},[o[4]||(o[4]=t("svg",{class:"w-3 h-3 md:w-4 md:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)),j(" "+a(e.$t("profile.favorites.browseProducts")||"Explorar productos"),1)])]))])]))}},ct=N(Z,[["__scopeId","data-v-6ff25cf4"]]);export{ct as default};
