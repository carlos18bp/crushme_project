import{u as D,r as b,l as F,c as r,b as a,d as e,q as N,n as E,k as M,Q as Y,t as i,j as k,F as w,i as $,e as j,y as V,S as O,C as z,m as I,o as R,E as W,p as J,z as Q,g as C,s as G,f as P}from"../index.js";import{u as L}from"./crushStore-yx15gHN1.js";import{N as X,F as Z}from"./Footer-D33JONOS.js";import{P as ee}from"./ProductCard-77bCUGuv.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./cartStore-CDfjOPb9.js";import"./transition-DvVF77QE.js";import"./authStore-C7CjBt1i.js";import"./constants-DjCFsGER.js";import"./profileStore-B33aKvli.js";import"./wishlistStore-DG6yglol.js";const se={class:"public-profile"},oe={class:"profile-header"},te={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ae={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},re={class:"share-text"},ie=["src","alt"],le={class:"profile-content"},ne={class:"profile-info"},ce={class:"profile-username"},de={class:"biography-section"},ue={class:"section-title"},he={class:"biography-text"},pe={class:"three-column-grid"},me={class:"links-section"},ge={class:"section-title"},ve={class:"links-buttons"},_e=["href"],ye={class:"info-card"},fe={class:"section-title"},ke={class:"info-text"},be={class:"info-card"},we={class:"section-title"},$e={class:"info-text"},Ce={key:0,class:"gallery-section"},xe={class:"section-title"},Pe={class:"gallery-grid"},Ie=["onClick"],Se=["src","alt"],Te={key:1,class:"wishlists-section"},Me={class:"section-title"},De={class:"space-y-4"},Fe={class:"p-6"},Le={class:"flex items-center justify-between gap-3 mb-2"},Be={class:"text-lg font-semibold text-gray-900 flex-shrink-0"},Ne={class:"flex items-center gap-2 ml-auto"},Ee=["onClick"],je=["onClick"],Ve=["onClick"],ze={class:"text-sm text-gray-600 mb-2"},Re={class:"text-xs text-gray-500"},We={key:0,class:"px-6 pb-6"},Ae={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ke={key:1,class:"mt-2"},Ue={class:"text-xs text-gray-600 italic"},qe={key:1,class:"text-sm text-gray-500 text-center py-8"},He=["src"],Ye={__name:"PublicProfile",props:{profileData:{type:Object,default:()=>({avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400",coverImage:null,name:"Mary Jackson",username:"@username",biography:`Hi! I'm [Your Name], a friendly, upbeat webcam model who loves good conversation, cozy vibes, and a touch of playful energy. On my shows you'll find smiles, laughter, and a welcoming space where we can relax, chat, and enjoy the moment together. I'm into [interests: gaming/fitness/cosplay/music], so don't be shy about asking questions or sharing what you love too.

I value respect and positive energy. Please be polite, keep requests within platform rules, and remember I don't do meetupsâ€”everything stays online and between consenting adults (18+). Tips and requests help me create more content and upgrade my setup, and I'm always grateful for your support.

Schedule: [Days/Times] ([Timezone]).
What to expect: friendly chats, playful banter, themed outfits, and interactive goals.
Support: follows, tips, and kind words mean the worldâ€”thank you!
Hit follow, turn on notifications, and say hi when you join. Let's make great memories together. ðŸ’«`,links:[{label:"Instagram",color:"#C77DFF"},{label:"Facebook",color:"#C77DFF"},{label:"Stream",color:"#C77DFF"}],state:"Sweet smiles, playful vibesâ€”come say hi âœ¨",notes:"Welcome to my room! This is a respectful, 18+ space. I don't do meetups or off-platform chats, and I follow site rules. Tips and kind words keep the show going and help upgrade my setup. Custom requests? Ask first and be polite. Schedule: [Days/Times, Timezone]. Thanks for being sweet and supportive! ðŸ’«",gallery:["https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400","https://images.unsplash.com/photo-1488716820095-cbe80883c496?w=400","https://images.unsplash.com/photo-1517841905240-472988babdf9?w=400","https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=400","https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=400","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400","https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400","https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=400","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400","https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=400"],wishlists:[],items:[]})}},setup(x){const y=I(),d=z(),g=D(),p=b([]),h=b(!1),v=b(!1),u=b(""),l=x,s=F(()=>l.profileData||{}),c=o=>o?Number(o).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",_=o=>{const t=p.value.indexOf(o);t>-1?p.value.splice(t,1):p.value.push(o)},f=o=>{var t,n;return{id:o.woocommerce_product_id,name:o.product_name,price:o.product_price,images:((t=o.product_info)==null?void 0:t.images)||[{src:o.product_image}],stock_status:((n=o.product_info)==null?void 0:n.stock_status)||"instock",...o.product_info}},A=o=>{y.push({name:`ProductDetail-${g.locale}`,params:{id:o}})},K=o=>{console.log("Product added to cart from wishlist:",o)},U=async()=>{try{const o=window.location.href;await navigator.clipboard.writeText(o),h.value=!0,console.log("âœ… Link copiado al portapapeles:",o),setTimeout(()=>{h.value=!1},2e3)}catch(o){console.error("âŒ Error copiando link:",o);try{const t=document.createElement("textarea");t.value=window.location.href,t.style.position="fixed",t.style.left="-999999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),h.value=!0,setTimeout(()=>{h.value=!1},2e3)}catch(t){console.error("âŒ Fallback tambiÃ©n fallÃ³:",t)}}},q=o=>{var n;const t=((n=s.value.username)==null?void 0:n.replace("@",""))||d.params.username;y.push({name:`Checkout-${g.locale}`,query:{giftMode:"true",username:t,wishlistId:o.id,wishlistName:o.name}}),console.log("ðŸŽ Navigating to checkout for wishlist:",o.name)},H=async o=>{try{const t=o.public_url||`${window.location.origin}${o.shareable_path}`;await navigator.clipboard.writeText(t),console.log("âœ… Wishlist link copied:",t),alert("Wishlist link copied to clipboard!")}catch(t){console.error("âŒ Error copying wishlist link:",t)}},T=o=>{u.value=o,v.value=!0,document.body.style.overflow="hidden"},B=()=>{v.value=!1,u.value="",document.body.style.overflow=""};return(o,t)=>(a(),r("div",se,[e("div",oe,[e("div",{class:M(["header-gradient",{"has-cover":s.value.coverImage,"cursor-pointer":s.value.coverImage}]),style:E(s.value.coverImage?{backgroundImage:`url(${s.value.coverImage})`}:{}),onClick:t[0]||(t[0]=n=>s.value.coverImage&&T(s.value.coverImage))},null,6),e("button",{class:M(["share-button",{copied:h.value}]),onClick:U},[h.value?(a(),r("svg",ae,[...t[4]||(t[4]=[e("polyline",{points:"20 6 9 17 4 12"},null,-1)])])):(a(),r("svg",te,[...t[3]||(t[3]=[Y('<circle cx="18" cy="5" r="3" data-v-7e58adca></circle><circle cx="6" cy="12" r="3" data-v-7e58adca></circle><circle cx="18" cy="19" r="3" data-v-7e58adca></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49" data-v-7e58adca></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49" data-v-7e58adca></line>',5)])])),e("span",re,i(h.value?o.$t("diaries.publicProfile.linkCopied"):o.$t("diaries.publicProfile.share")),1)],2),e("div",{class:"avatar-container cursor-pointer",onClick:t[1]||(t[1]=n=>T(s.value.avatar))},[e("img",{src:s.value.avatar,alt:s.value.name,class:"avatar-image"},null,8,ie)])]),e("div",le,[e("div",ne,[e("h1",ce,i(s.value.username),1)]),e("div",de,[e("h3",ue,i(o.$t("diaries.publicProfile.biography")),1),e("div",he,i(s.value.biography),1)]),e("div",pe,[e("div",me,[e("h3",ge,i(o.$t("diaries.publicProfile.myLinks")),1),e("div",ve,[(a(!0),r(w,null,$(s.value.links,(n,m)=>(a(),r("a",{key:m,href:n.url,target:"_blank",rel:"noopener noreferrer",class:"link-button",style:E({backgroundColor:n.color||"#C77DFF"})},i(n.label),13,_e))),128))])]),e("div",ye,[e("h3",fe,i(o.$t("diaries.publicProfile.myState")),1),e("p",ke,i(s.value.state),1)]),e("div",be,[e("h3",we,i(o.$t("diaries.publicProfile.notes")),1),e("p",$e,i(s.value.notes),1)])]),s.value.gallery&&s.value.gallery.length>0?(a(),r("div",Ce,[e("h3",xe,i(o.$t("diaries.publicProfile.gallery")),1),e("div",Pe,[(a(!0),r(w,null,$(s.value.gallery,(n,m)=>(a(),r("div",{key:m,class:"gallery-item cursor-pointer",onClick:As=>T(n)},[e("img",{src:n,alt:`${o.$t("diaries.publicProfile.galleryImageAlt")} ${m+1}`,class:"gallery-image"},null,8,Se)],8,Ie))),128))])])):k("",!0),s.value.wishlists&&s.value.wishlists.length>0?(a(),r("div",Te,[e("h3",Me,i(o.$t("diaries.publicProfile.wishlists")),1),e("div",De,[(a(!0),r(w,null,$(s.value.wishlists,n=>(a(),r("div",{key:n.id,class:"wishlist-card border-2 border-gray-900 rounded-2xl overflow-hidden"},[e("div",Fe,[e("div",Le,[e("h3",Be,i(n.name),1),e("div",Ne,[e("button",{onClick:m=>H(n),class:"wishlist-action-btn copy-btn"},[...t[5]||(t[5]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),e("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})],-1),j(" Copy wishlist link ",-1)])],8,Ee),e("button",{onClick:m=>q(n),class:"wishlist-action-btn buy-btn"}," Buy my wishlist ",8,je),e("button",{onClick:m=>_(n.id),class:"p-2 hover:bg-gray-100 rounded-full transition-colors flex-shrink-0"},[(a(),r("svg",{class:M(["w-5 h-5 text-gray-600 transition-transform",{"rotate-180":p.value.includes(n.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,Ve)])]),e("div",null,[e("p",ze,i(n.description||o.$t("diaries.publicProfile.noDescription")),1),e("p",Re,i(n.total_items)+" "+i(o.$t("diaries.publicProfile.wishlistItems"))+" Â· $"+i(c(n.total_value)),1)])]),p.value.includes(n.id)?(a(),r("div",We,[n.items&&n.items.length>0?(a(),r("div",Ae,[(a(!0),r(w,null,$(n.items,m=>(a(),r("div",{key:m.id,class:"relative"},[m.product_info?(a(),N(ee,{key:0,product:f(m),"gift-mode":!0,onNavigateToProduct:A,onAddToCart:K},null,8,["product"])):k("",!0),m.notes?(a(),r("div",Ke,[e("p",Ue,"ðŸ’­ "+i(m.notes),1)])):k("",!0)]))),128))])):(a(),r("div",qe,[t[7]||(t[7]=e("svg",{class:"w-16 h-16 mx-auto mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)),e("p",null,i(o.$t("diaries.publicProfile.noProductsYet")),1)]))])):k("",!0)]))),128))])])):k("",!0)]),(a(),N(O,{to:"body"},[v.value?(a(),r("div",{key:0,class:"image-modal-overlay",onClick:B},[e("div",{class:"image-modal-content",onClick:t[2]||(t[2]=V(()=>{},["stop"]))},[e("button",{class:"image-modal-close",onClick:B,"aria-label":"Close"},[...t[8]||(t[8]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])]),e("img",{src:u.value,alt:"Full size image",class:"image-modal-img"},null,8,He)])])):k("",!0)]))]))}},Oe=S(Ye,[["__scopeId","data-v-7e58adca"]]),Je={class:"you-may-know"},Qe={class:"component-title"},Ge={key:0,class:"loading-state"},Xe={class:"loading-text"},Ze={key:1,class:"error-state"},es={class:"error-text"},ss={key:2,class:"empty-state"},os={class:"empty-text"},ts={key:3,class:"users-list"},as=["onClick"],rs={class:"user-avatar"},is=["src","alt"],ls={class:"user-info"},ns={class:"user-name"},cs=["onClick"],ds={__name:"YouMayKnow",setup(x){const y=I(),d=L(),g=D(),p=b(!1),h=b(null),v=F(()=>d.crushList.slice(0,5));R(async()=>{if(d.crushList.length>0){console.log("âœ… Crushes ya cargados, usando cachÃ©");return}p.value=!0,h.value=null;try{await d.fetchCrushList(5,0),console.log("âœ… Crushes loaded in YouMayKnow")}catch(l){console.error("âŒ Error loading crushes:",l),h.value=l.message||"Error al cargar crushes"}finally{p.value=!1}});const u=l=>{console.log("ðŸ” Navegando al perfil de crush:",l);const s=g.locale;y.push(`/${s}/diaries/@${l}`),window.scrollTo({top:0,behavior:"smooth"})};return(l,s)=>(a(),r("div",Je,[e("h2",Qe,i(l.$t("diaries.youMayKnow.title")),1),p.value?(a(),r("div",Ge,[s[0]||(s[0]=e("div",{class:"loading-spinner"},null,-1)),e("p",Xe,i(l.$t("diaries.youMayKnow.loading")),1)])):h.value?(a(),r("div",Ze,[e("p",es,i(h.value),1)])):v.value.length===0?(a(),r("div",ss,[e("p",os,i(l.$t("diaries.youMayKnow.noCrushes")),1)])):(a(),r("div",ts,[(a(!0),r(w,null,$(v.value,c=>(a(),r("div",{key:c.id,class:"user-item",onClick:_=>u(c.username)},[e("div",rs,[e("img",{src:c.profile_picture_url||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200",alt:c.username,class:"avatar-img"},null,8,is)]),e("div",ls,[e("h3",ns,"@"+i(c.username),1),s[1]||(s[1]=e("p",{class:"user-description"},[e("span",{class:"crush-dot"}),e("span",{class:"crush-text"},"Crush")],-1))]),e("button",{class:"watch-button",onClick:V(_=>u(c.username),["stop"])},i(l.$t("diaries.youMayKnow.viewProfile")),9,cs)],8,as))),128))]))]))}},us=S(ds,[["__scopeId","data-v-7c82d9d5"]]),hs={class:"user-search"},ps={class:"search-container"},ms=["placeholder"],gs={key:0,class:"loading-state"},vs={class:"loading-text"},_s={key:1,class:"empty-state"},ys={class:"empty-text"},fs={key:2,class:"empty-state"},ks={class:"empty-text"},bs={key:3,class:"users-list"},ws=["onClick"],$s={class:"user-avatar"},Cs=["src","alt"],xs={class:"user-info"},Ps={class:"username-container"},Is={class:"username"},Ss={key:0,class:"crush-label"},Ts={__name:"UserSearch",setup(x){const y=I(),d=L(),g=D(),p=b("");let h=null;W(p,u=>{if(h&&clearTimeout(h),!u.trim()){d.clearSearch();return}h=setTimeout(async()=>{try{await d.searchUsers(u.trim(),10)}catch(l){console.error("Error searching users:",l)}},300)});const v=u=>{console.log("ðŸ” Navegando al perfil de:",u),p.value="",d.clearSearch();const l=g.locale;y.push(`/${l}/diaries/@${u}`),window.scrollTo({top:0,behavior:"smooth"})};return(u,l)=>(a(),r("div",hs,[e("div",ps,[l[1]||(l[1]=e("svg",{class:"search-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM18 18l-4.35-4.35",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),J(e("input",{"onUpdate:modelValue":l[0]||(l[0]=s=>p.value=s),type:"text",placeholder:u.$t("diaries.userSearch.placeholder"),class:"search-input"},null,8,ms),[[Q,p.value]])]),C(d).isSearching?(a(),r("div",gs,[l[2]||(l[2]=e("div",{class:"loading-spinner"},null,-1)),e("p",vs,i(u.$t("diaries.userSearch.searching")),1)])):p.value.trim()?C(d).searchResults.length===0?(a(),r("div",fs,[l[4]||(l[4]=e("svg",{class:"empty-icon",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e("line",{x1:"9",y1:"9",x2:"15",y2:"15"})],-1)),e("p",ks,i(u.$t("diaries.userSearch.noResults")),1)])):(a(),r("div",bs,[(a(!0),r(w,null,$(C(d).searchResults,s=>(a(),r("div",{key:s.id,class:"user-item",onClick:c=>v(s.username)},[e("div",$s,[e("img",{src:s.profile_picture_url||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200",alt:s.username,class:"avatar-img"},null,8,Cs)]),e("div",xs,[e("div",Ps,[e("span",Is,"@"+i(s.username),1),s.is_crush?(a(),r("span",Ss,[...l[5]||(l[5]=[e("span",{class:"crush-dot"},null,-1),j(" Crush ",-1)])])):k("",!0)])])],8,ws))),128))])):(a(),r("div",_s,[l[3]||(l[3]=e("svg",{class:"empty-icon",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.35-4.35"})],-1)),e("p",ys,i(u.$t("diaries.userSearch.startTyping")),1)]))]))}},Ms=S(Ts,[["__scopeId","data-v-783e9db0"]]),Ds={class:"diaries-view"},Fs={class:"min-h-screen bg-brand-pink-lighter pt-20 md:pt-28 lg:pt-32 pb-12 md:pb-16"},Ls={class:"container mx-auto px-4 md:px-6 lg:px-4"},Bs={key:0,class:"loading-container"},Ns={class:"loading-text"},Es={key:1,class:"error-container"},js={class:"error-text"},Vs={key:2,class:"diaries-grid"},zs={class:"profile-column"},Rs={class:"other-columns"},Ws={__name:"DiariesView",props:{username:{type:String,default:null}},setup(x){const y=x,d=L(),g=z(),p=I(),{t:h}=G(),v=F(()=>{var c,_;const s=d.crushProfile||d.randomCrush;return s?{avatar:s.profile_picture_url||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400",coverImage:s.cover_image_url||null,name:s.username,username:`@${s.username}`,biography:s.about||h("diaries.publicProfile.defaultBiography"),links:((c=s.links)==null?void 0:c.map(f=>({label:f.title||f.platform,color:"#C77DFF",url:f.url})))||[],state:s.current_status||"Online",notes:s.note||"",gallery:((_=s.gallery_photos)==null?void 0:_.map(f=>f.image))||[],wishlists:s.public_wishlists||[]}:null});async function u(){const s=y.username||g.params.username;if(s)try{await d.fetchPublicProfile(s),console.log(`âœ… Perfil de @${s} cargado en DiariesView`)}catch(c){console.error(`âŒ Error cargando perfil de @${s}:`,c)}else try{const c=await d.fetchRandomCrush();if(console.log("âœ… Crush aleatorio cargado en DiariesView"),c&&c.username){const _=g.path.split("/")[1]||"en";p.replace(`/${_}/diaries/@${c.username}`),console.log(`ðŸ”— URL actualizada a: /${_}/diaries/@${c.username}`)}}catch(c){console.error("âŒ Error cargando crush aleatorio:",c)}}async function l(){try{await d.fetchRandomCrush(),console.log("âœ… Crush aleatorio cargado en DiariesView")}catch(s){console.error("âŒ Error cargando crush aleatorio:",s)}}return W(()=>g.params.username,(s,c)=>{s&&s!==c&&u()}),R(()=>{u()}),(s,c)=>(a(),r("div",Ds,[P(X),e("main",Fs,[e("div",Ls,[C(d).isLoading?(a(),r("div",Bs,[c[0]||(c[0]=e("div",{class:"loading-spinner"},null,-1)),e("p",Ns,i(s.$t("diaries.publicProfile.loading")),1)])):C(d).error?(a(),r("div",Es,[e("p",js,i(C(d).error),1),e("button",{onClick:l,class:"retry-button"},i(s.$t("diaries.publicProfile.retry")),1)])):(a(),r("div",Vs,[e("div",zs,[P(Oe,{"profile-data":v.value},null,8,["profile-data"])]),e("div",Rs,[P(Ms),P(us)])]))])]),P(Z)]))}},eo=S(Ws,[["__scopeId","data-v-09ec9f80"]]);export{eo as default};
