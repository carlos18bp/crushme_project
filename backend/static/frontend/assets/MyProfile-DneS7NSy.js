import{u as pe,r as b,l as fe,o as me,c as n,b as d,d as e,t as s,p as c,e as z,z as f,H as R,F as j,i as M,g as p,j as v,k as G,y as I,m as ge}from"../index.js";import{u as ve}from"./profileStore-B4Vmm1K_.js";import{u as be}from"./authStore-DVIAn0uN.js";import{u as he}from"./useAlert-BgI_2DEv.js";import{C as ye,S as ke}from"./state-DRCieogr.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./constants-DjCFsGER.js";const _e={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-8"},we={class:"text-xl md:text-2xl font-semibold text-gray-900 mb-4 md:mb-6 font-comfortaa"},Ce={class:"space-y-4 md:space-y-6"},$e={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4"},Pe={for:"first_name",class:"block text-sm font-medium text-gray-900 mb-2"},Ue=["placeholder"],Le={for:"last_name",class:"block text-sm font-medium text-gray-900 mb-2"},je=["placeholder"],Me={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4"},Ie={for:"email",class:"block text-xs md:text-sm font-medium text-gray-900 mb-2"},Se={class:"relative"},Ve=["placeholder"],ze={for:"phone",class:"block text-xs md:text-sm font-medium text-gray-900 mb-2"},De={for:"country",class:"block text-sm font-medium text-gray-900 mb-2"},Ae={value:""},Be=["value"],Re={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4"},qe={for:"state",class:"block text-sm font-medium text-gray-900 mb-2"},Ee=["disabled"],Oe={value:""},Fe=["value"],Te={for:"postal_code",class:"block text-sm font-medium text-gray-900 mb-2"},He=["placeholder"],Ne={for:"city",class:"block text-sm font-medium text-gray-900 mb-2"},We=["placeholder"],Ge={class:"block text-sm font-medium text-gray-900 mb-2"},Ke={class:"space-y-3"},Je={class:"relative"},Qe=["placeholder"],Xe={class:"relative"},Ye=["placeholder"],Ze={for:"additional_details",class:"block text-sm font-medium text-gray-900 mb-2"},eo=["placeholder"],oo={class:"text-xl md:text-2xl font-semibold text-gray-900 mb-4 md:mb-6 font-comfortaa"},to={class:"space-y-4 md:space-y-6"},ro={key:0,class:"mb-4 md:mb-6"},lo={class:"inline-flex items-center gap-2 px-3 py-1.5 md:px-4 md:py-2 bg-gradient-to-r from-brand-pink-dark to-pink-600 text-white rounded-full shadow-lg"},so={class:"font-bold text-sm"},ao={key:1,class:"bg-gradient-to-br from-pink-50 to-purple-50 rounded-xl md:rounded-2xl p-4 md:p-6 border border-pink-200"},io={key:0,class:"text-center"},no={class:"text-lg font-semibold text-gray-900 mb-2 font-comfortaa"},uo={class:"text-sm text-gray-600 mb-4"},co={key:0,class:"text-xs text-gray-500 mb-4"},po=["disabled"],fo={key:1,class:"text-center"},mo={class:"text-lg font-semibold text-gray-900 mb-2 font-comfortaa"},go={class:"text-sm text-gray-600 mb-4"},vo={key:0,class:"bg-white rounded-lg p-4 mb-4"},bo={class:"text-xs text-gray-500 mb-1 font-semibold"},ho={class:"text-sm text-gray-700"},yo={class:"text-sm text-gray-600 mb-4"},ko=["disabled"],xo={key:0},_o={key:1},wo={key:2,class:"text-center"},Co={class:"text-lg font-semibold text-gray-900 mb-2 font-comfortaa"},$o={class:"text-sm text-gray-600 mb-4 max-w-md mx-auto"},Po=["disabled"],Uo={key:0},Lo={key:1},jo={class:"block text-xs md:text-sm font-medium text-gray-900 mb-2 md:mb-3"},Mo={class:"relative mb-20 md:mb-6"},Io=["src"],So={key:1,class:"text-center"},Vo={class:"text-sm font-medium text-gray-600 group-hover:text-brand-pink-dark transition-colors"},zo={class:"absolute -bottom-14 md:-bottom-16 left-4 md:left-8"},Do={class:"relative"},Ao=["src"],Bo={key:1,class:"text-center"},Ro={class:"text-xs text-gray-500 mt-2 ml-2"},qo={class:"max-w-md"},Eo={for:"username",class:"block text-sm font-medium text-gray-900 mb-2"},Oo=["placeholder"],Fo={for:"about",class:"block text-sm font-medium text-gray-900 mb-2"},To=["placeholder"],Ho={class:"block text-sm font-medium text-gray-900 mb-2"},No={class:"flex flex-col items-center"},Wo={type:"button",class:"px-4 py-2 bg-white border border-brand-pink-dark rounded-lg text-sm font-medium text-brand-pink-dark hover:bg-brand-pink-lighter transition-colors mb-2"},Go={class:"text-sm text-gray-500"},Ko={class:"text-xs text-gray-400 mt-2"},Jo={key:0,class:"mb-4"},Qo={class:"text-xs md:text-sm font-medium text-gray-700 mb-2 md:mb-3"},Xo={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 md:gap-4"},Yo=["src","alt"],Zo={class:"absolute top-2 right-2 flex gap-1"},et={key:0,class:"px-2 py-1 bg-brand-pink-dark text-white text-xs font-medium rounded-full"},ot=["onClick"],tt={key:0,class:"mt-1 text-xs text-gray-600 truncate"},rt={key:1,class:"mt-4"},lt={class:"text-xs md:text-sm font-medium text-gray-700 mb-2 md:mb-3"},st={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4"},at={class:"flex-1 min-w-0"},it={class:"text-sm font-medium text-gray-900 truncate"},nt={class:"text-xs text-gray-500"},dt=["onClick"],ut={for:"note",class:"block text-sm font-medium text-gray-900 mb-2"},ct=["placeholder"],pt={class:"max-w-xl"},ft={for:"current_status",class:"block text-sm font-medium text-gray-900 mb-2"},mt=["placeholder"],gt={class:"flex items-center gap-2 mb-3"},vt={class:"block text-sm font-medium text-gray-900"},bt={class:"relative"},ht=["onUpdate:modelValue","placeholder"],yt={class:"flex gap-2"},kt=["onUpdate:modelValue","placeholder"],xt=["onClick"],_t={class:"text-xl md:text-2xl font-semibold text-gray-900 mb-4 md:mb-6 font-comfortaa"},wt={class:"space-y-4 md:space-y-6"},Ct={class:"max-w-md"},$t={for:"language",class:"block text-sm font-medium text-gray-900 mb-2"},Pt={class:"relative"},Ut={class:"mt-2 text-xs text-gray-500"},Lt={class:"flex flex-col sm:flex-row gap-3 md:gap-4 items-stretch sm:items-center"},jt=["disabled"],Mt={__name:"MyProfile",setup(It){const q=ge(),a=ve();be();const E=pe(),{showSuccess:C,showError:_,showConfirm:S}=he(),D=b(E.locale),h=b(!1),m=b([]),y=b([]),A=b([]),O=b(0),$=b(null),P=b(null),k=b(null),x=b(null),B=ye.getAllCountries().map(t=>({...t,flag:t.flag||"🏳️"})),K=fe(()=>l.value.country?ke.getStatesOfCountry(l.value.country):[]),l=b({first_name:"",last_name:"",email:"",phone:"",phoneCode:"+57",country:"CO",city:"",state:"",postal_code:"",address_line1:"",address_line2:"",additional_details:"",username:"",about:"",note:"",current_status:"",links:[{url:"",title:""}]});me(async()=>{if(await a.fetchProfile(),a.profile){const t=a.profile,o=a.defaultAddress;if(l.value.first_name=t.first_name||"",l.value.last_name=t.last_name||"",l.value.email=t.email||"",l.value.phone=t.phone||"",l.value.username=t.username||"",l.value.about=t.about||"",l.value.note=t.note||"",l.value.current_status=t.current_status||"",o){if(l.value.address_line1=o.address_line1||o.address_line_1||"",l.value.address_line2=o.address_line2||o.address_line_2||"",l.value.city=o.city||"",l.value.state=o.state||"",l.value.postal_code=o.postal_code||o.zip_code||"",l.value.additional_details=o.additional_details||"",o.country){const r=B.find(u=>u.name.toLowerCase()===o.country.toLowerCase()||u.isoCode===o.country);l.value.country=(r==null?void 0:r.isoCode)||"CO"}}else l.value.country="CO";t.links&&t.links.length>0&&(l.value.links=t.links.map(r=>{var u;return{id:r.id,url:((u=r.url)==null?void 0:u.replace("https://","").replace("http://",""))||"",title:r.title||"",order:r.order,is_active:r.is_active!==void 0?r.is_active:!0}})),t.gallery_photos&&t.gallery_photos.length>0&&(y.value=t.gallery_photos)}});function J(t){const r=Array.from(t.target.files).filter(u=>{const g=["image/jpeg","image/jpg","image/png","image/gif"].includes(u.type),w=u.size<=800*1024;return g&&w});r.length>0&&m.value.push(...r)}function Q(t){const r=Array.from(t.dataTransfer.files).filter(u=>{const g=["image/jpeg","image/jpg","image/png","image/gif"].includes(u.type),w=u.size<=800*1024;return g&&w});r.length>0&&m.value.push(...r)}function X(t){m.value.splice(t,1)}function Y(t){if(t===0)return"0 Bytes";const o=1024,r=["Bytes","KB","MB"],u=Math.floor(Math.log(t)/Math.log(o));return Math.round(t/Math.pow(o,u))+r[u]}function Z(t){return t.startsWith("http")?t:`${"http://localhost:8000".replace("/api","")}${t}`}function ee(t){A.value.push(t),y.value=y.value.filter(o=>o.id!==t)}function oe(){l.value.links.push({url:"",title:""})}function te(t){l.value.links.splice(t,1)}function re(){l.value.state=""}function le(t){const o=t.target.files[0];if(!o)return;const r=a.validateImageFile(o);if(!r.valid){_(r.errors.join(`
`),"Archivo no válido");return}$.value=o,k.value=URL.createObjectURL(o)}function se(t){const o=t.target.files[0];if(!o)return;const r=a.validateImageFile(o);if(!r.valid){_(r.errors.join(`
`),"Archivo no válido");return}P.value=o,x.value=URL.createObjectURL(o)}async function ae(){if(!(await S("¿Estás seguro de que quieres eliminar tu foto de perfil?")).isConfirmed)return;const o=await a.removeProfilePicture();o.success?($.value=null,k.value=null,C(o.message)):_(o.error,"Error")}async function ie(){if(!(await S("¿Estás seguro de que quieres eliminar tu foto de portada?")).isConfirmed)return;const o=await a.removeCoverImage();o.success?(P.value=null,x.value=null,C(o.message)):_(o.error,"Error")}function F(t){return a.getImageUrlWithCacheBusting(t)}function ne(){const t=q.currentRoute.value.name,o=D.value;E.setLocale(o);const r=t.replace(/-en$|-es$/,"");q.push({name:`${r}-${o}`}),C(o==="en"?"Language changed to English":"Idioma cambiado a Español","✓")}async function T(){if(!(await S("¿Estás seguro de que quieres solicitar verificación como Crush?","Solicitar Verificación")).isConfirmed)return;const o=await a.requestCrushVerification();o.success?(C(o.message,"¡Solicitud Enviada!"),await a.fetchProfile()):_(o.error,"Error al Solicitar")}async function de(){if(!(await S("¿Estás seguro de que quieres cancelar tu solicitud de verificación?","Cancelar Solicitud")).isConfirmed)return;const o=await a.cancelCrushRequest();o.success?(C(o.message,"Solicitud Cancelada"),await a.fetchProfile()):_(o.error,"Error al Cancelar")}async function ue(){var t,o;h.value=!0;try{console.log("📝 [UPLOAD] Paso 1: Enviando información de texto...");const r=B.find(i=>i.isoCode===l.value.country),u=r?r.name:l.value.country,g={first_name:l.value.first_name,last_name:l.value.last_name,email:l.value.email,phone:l.value.phone,username:l.value.username,about:l.value.about,note:l.value.note,current_status:l.value.current_status},w=[];if(l.value.address_line1&&l.value.city&&l.value.state&&u){const i={country:u,state:l.value.state,city:l.value.city,address_line_1:l.value.address_line1};l.value.postal_code?i.zip_code=l.value.postal_code:(t=a.defaultAddress)!=null&&t.id||(i.zip_code=""),l.value.address_line2&&(i.address_line_2=l.value.address_line2),l.value.additional_details&&(i.additional_details=l.value.additional_details),i.is_default_shipping=!0,i.is_default_billing=!0,(o=a.defaultAddress)!=null&&o.id&&(i.id=a.defaultAddress.id),w.push(i)}const H=l.value.links.filter(i=>i.url&&i.title).map((i,U)=>{const V={title:i.title,url:i.url.startsWith("http")?i.url:`https://${i.url}`,order:U+1,is_active:i.is_active!==void 0?i.is_active:!0};return i.id&&(V.id=i.id),V}),N=y.value.filter(i=>!A.value.includes(i.id)).map(i=>({id:i.id})),ce={basicInfo:g,addresses:w.length>0?w:void 0,links:H.length>0?H:void 0,gallery_photos:N.length>0?N:void 0},W=await a.updateProfileComplete(ce);if(!W.success){_(W.error,"Error al actualizar información");return}if(console.log("✅ [UPLOAD] Información de texto enviada correctamente"),P.value){console.log("🖼️ [UPLOAD] Paso 2: Subiendo imagen de cover...");const i=await a.uploadProfileImages({coverImage:P.value});i.success?(P.value=null,x.value&&(URL.revokeObjectURL(x.value),x.value=null),console.log("✅ [UPLOAD] Imagen de cover subida correctamente")):console.error("❌ [UPLOAD] Error al subir imagen de cover:",i.error)}if($.value){console.log("👤 [UPLOAD] Paso 3: Subiendo imagen de perfil...");const i=await a.uploadProfileImages({profilePicture:$.value});i.success?($.value=null,k.value&&(URL.revokeObjectURL(k.value),k.value=null),console.log("✅ [UPLOAD] Imagen de perfil subida correctamente")):console.error("❌ [UPLOAD] Error al subir imagen de perfil:",i.error)}if(m.value.length>0){console.log(`🖼️ [UPLOAD] Paso 4: Subiendo ${m.value.length} imágenes de galería...`);for(let i=0;i<m.value.length;i++){const U=m.value[i];console.log(`📷 [UPLOAD] Subiendo imagen ${i+1}/${m.value.length}: ${U.name}`);const V=[{caption:U.name,is_profile_picture:i===0&&y.value.length===0}],L=await a.uploadGalleryImages({images:[U],basicInfo:g,imageMeta:V});L.success?(console.log(`✅ [UPLOAD] Imagen ${i+1}/${m.value.length} subida correctamente`),L.data&&L.data.gallery_photos&&(y.value=L.data.gallery_photos)):console.error(`❌ [UPLOAD] Error al subir imagen ${i+1}/${m.value.length}:`,L.error)}m.value=[],O.value++,console.log("✅ [UPLOAD] Todas las imágenes de galería subidas")}A.value=[],await a.fetchProfile(),a.profile&&a.profile.gallery_photos&&(y.value=a.profile.gallery_photos),C("Perfil actualizado correctamente","¡Éxito!")}catch(r){console.error("Error:",r),_("Ocurrió un error inesperado","Error")}finally{h.value=!1}}return(t,o)=>(d(),n("div",_e,[e("form",{onSubmit:I(ue,["prevent"]),class:"space-y-8 md:space-y-10"},[e("div",null,[e("h2",we,s(t.$t("profile.form.shippingDetails.title")),1),e("div",Ce,[e("div",$e,[e("div",null,[e("label",Pe,[z(s(t.$t("profile.form.basicInfo.firstName"))+" ",1),o[20]||(o[20]=e("span",{class:"text-red-500"},"*",-1))]),c(e("input",{id:"first_name","onUpdate:modelValue":o[0]||(o[0]=r=>l.value.first_name=r),type:"text",placeholder:t.$t("profile.form.placeholders.firstName"),class:"block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors",required:""},null,8,Ue),[[f,l.value.first_name]])]),e("div",null,[e("label",Le,s(t.$t("profile.form.basicInfo.lastName")),1),c(e("input",{id:"last_name","onUpdate:modelValue":o[1]||(o[1]=r=>l.value.last_name=r),type:"text",placeholder:t.$t("profile.form.placeholders.lastName"),class:"block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors"},null,8,je),[[f,l.value.last_name]])])]),e("div",Me,[e("div",null,[e("label",Ie,[z(s(t.$t("profile.form.basicInfo.email"))+" ",1),o[21]||(o[21]=e("span",{class:"text-red-500"},"*",-1))]),e("div",Se,[o[22]||(o[22]=e("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),c(e("input",{id:"email","onUpdate:modelValue":o[2]||(o[2]=r=>l.value.email=r),type:"email",placeholder:t.$t("profile.form.placeholders.email"),class:"block w-full rounded-lg border border-brand-pink-dark pl-11 pr-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors",required:""},null,8,Ve),[[f,l.value.email]])])]),e("div",null,[e("label",ze,s(t.$t("profile.form.basicInfo.phone")),1),c(e("input",{id:"phone","onUpdate:modelValue":o[3]||(o[3]=r=>l.value.phone=r),type:"tel",placeholder:"3001234567",class:"block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors"},null,512),[[f,l.value.phone]])])]),e("div",null,[e("label",De,s(t.$t("profile.form.shippingDetails.country")),1),c(e("select",{id:"country","onUpdate:modelValue":o[4]||(o[4]=r=>l.value.country=r),onChange:re,disabled:"",class:"block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors bg-gray-100 cursor-not-allowed"},[e("option",Ae,s(t.$t("profile.form.placeholders.selectCountry")),1),(d(!0),n(j,null,M(p(B),r=>(d(),n("option",{key:r.isoCode,value:r.isoCode},s(r.flag)+" "+s(r.name),9,Be))),128))],544),[[R,l.value.country]])]),e("div",Re,[e("div",null,[e("label",qe,s(t.$t("profile.form.shippingDetails.state")),1),c(e("select",{id:"state","onUpdate:modelValue":o[5]||(o[5]=r=>l.value.state=r),disabled:!l.value.country,class:"block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed"},[e("option",Oe,s(l.value.country?t.$t("profile.form.placeholders.selectState"):t.$t("profile.form.placeholders.selectCountry")),1),(d(!0),n(j,null,M(K.value,r=>(d(),n("option",{key:r.isoCode,value:r.name},s(r.name),9,Fe))),128))],8,Ee),[[R,l.value.state]])]),e("div",null,[e("label",Te,s(t.$t("profile.form.shippingDetails.postalCode")),1),c(e("input",{id:"postal_code","onUpdate:modelValue":o[6]||(o[6]=r=>l.value.postal_code=r),type:"text",placeholder:t.$t("profile.form.placeholders.postalCode"),class:"block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors"},null,8,He),[[f,l.value.postal_code]])])]),e("div",null,[e("label",Ne,s(t.$t("profile.form.shippingDetails.city")),1),c(e("input",{id:"city","onUpdate:modelValue":o[7]||(o[7]=r=>l.value.city=r),type:"text",placeholder:t.$t("profile.form.placeholders.city"),class:"block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors"},null,8,We),[[f,l.value.city]])]),e("div",null,[e("label",Ge,[z(s(t.$t("profile.form.shippingDetails.addressLine1"))+" ",1),o[23]||(o[23]=e("span",{class:"text-red-500"},"*",-1))]),e("div",Ke,[e("div",Je,[o[24]||(o[24]=e("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),c(e("input",{"onUpdate:modelValue":o[8]||(o[8]=r=>l.value.address_line1=r),type:"text",placeholder:t.$t("profile.form.placeholders.addressLine1"),class:"block w-full rounded-lg border border-gray-300 pl-11 pr-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors",required:""},null,8,Qe),[[f,l.value.address_line1]])]),e("div",Xe,[o[25]||(o[25]=e("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),c(e("input",{"onUpdate:modelValue":o[9]||(o[9]=r=>l.value.address_line2=r),type:"text",placeholder:t.$t("profile.form.placeholders.addressLine2"),class:"block w-full rounded-lg border border-gray-300 pl-11 pr-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors"},null,8,Ye),[[f,l.value.address_line2]])])])]),e("div",null,[e("label",Ze,s(t.$t("profile.form.shippingDetails.additionalDetails")),1),c(e("textarea",{id:"additional_details","onUpdate:modelValue":o[10]||(o[10]=r=>l.value.additional_details=r),rows:"4",placeholder:t.$t("profile.form.placeholders.additionalDetails"),class:"block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors resize-none"},null,8,eo),[[f,l.value.additional_details]])])])]),e("div",null,[e("h2",oo,s(t.$t("profile.form.publicProfile.title")),1),e("div",to,[p(a).isCrushVerified?(d(),n("div",ro,[e("div",lo,[o[26]||(o[26]=e("svg",{class:"w-4 h-4 md:w-5 md:h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),e("span",so,s(t.$t("profile.form.crush.verified")||"CRUSH VERIFICADO"),1)])])):v("",!0),p(a).isCrushVerified?v("",!0):(d(),n("div",ao,[p(a).hasPendingCrushRequest?(d(),n("div",io,[o[27]||(o[27]=e("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-yellow-100 rounded-full mb-4"},[e("svg",{class:"w-8 h-8 text-yellow-600 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("h3",no,s(t.$t("profile.form.crush.pendingTitle")||"Solicitud Pendiente"),1),e("p",uo,s(t.$t("profile.form.crush.pendingMessage")||"Tu solicitud está siendo revisada por un administrador."),1),p(a).crushRequestedAt?(d(),n("p",co,s(t.$t("profile.form.crush.requestedAt")||"Solicitado el")+": "+s(new Date(p(a).crushRequestedAt).toLocaleDateString()),1)):v("",!0),e("button",{type:"button",onClick:de,disabled:h.value,class:"px-6 py-2 bg-white border border-gray-300 text-gray-700 rounded-full hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},s(t.$t("profile.form.crush.cancelRequest")||"Cancelar Solicitud"),9,po)])):p(a).crushVerificationStatus==="rejected"?(d(),n("div",fo,[o[28]||(o[28]=e("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4"},[e("svg",{class:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),e("h3",mo,s(t.$t("profile.form.crush.rejectedTitle")||"Solicitud Rechazada"),1),e("p",go,s(t.$t("profile.form.crush.rejectedMessage")||"Tu solicitud fue revisada pero no fue aprobada."),1),p(a).crushRejectionReason?(d(),n("div",vo,[e("p",bo,s(t.$t("profile.form.crush.rejectionReason")||"Motivo")+": ",1),e("p",ho,s(p(a).crushRejectionReason),1)])):v("",!0),e("p",yo,s(t.$t("profile.form.crush.canReapply")||"Puedes volver a solicitar verificación."),1),e("button",{type:"button",onClick:T,disabled:h.value,class:"px-6 py-3 bg-gradient-to-r from-brand-pink-dark to-pink-600 text-white font-medium rounded-full hover:from-brand-pink-medium hover:to-pink-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-md font-comfortaa"},[h.value?(d(),n("span",xo,s(t.$t("profile.form.buttons.loading"))+"...",1)):(d(),n("span",_o,"🌟 "+s(t.$t("profile.form.crush.requestButton")||"Solicitar de Nuevo"),1))],8,ko)])):p(a).canRequestCrushVerification?(d(),n("div",wo,[o[29]||(o[29]=e("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-brand-pink-lighter to-purple-200 rounded-full mb-4"},[e("svg",{class:"w-8 h-8 text-brand-pink-dark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})])],-1)),e("h3",Co,s(t.$t("profile.form.crush.title")||"Conviértete en Crush Verificado"),1),e("p",$o,s(t.$t("profile.form.crush.description")||"Los Crushes verificados obtienen un badge especial y mayor visibilidad en la plataforma."),1),e("button",{type:"button",onClick:T,disabled:h.value,class:"px-6 py-3 bg-gradient-to-r from-brand-pink-dark to-pink-600 text-white font-medium rounded-full hover:from-brand-pink-medium hover:to-pink-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-md font-comfortaa"},[h.value?(d(),n("span",Uo,s(t.$t("profile.form.buttons.loading"))+"...",1)):(d(),n("span",Lo,"🌟 "+s(t.$t("profile.form.crush.requestButton")||"Solicitar Verificación"),1))],8,Po)])):v("",!0)])),e("div",null,[e("label",jo,s(t.$t("profile.form.publicProfile.photos")||"Fotos de perfil"),1),e("div",Mo,[e("div",{onClick:o[11]||(o[11]=r=>t.$refs.coverImageInput.click()),class:G(["w-full h-32 md:h-40 lg:h-48 rounded-xl md:rounded-2xl border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden hover:border-brand-pink-dark transition-colors cursor-pointer group relative",{"bg-gradient-to-r from-brand-pink-lighter via-purple-200 to-blue-200":!x.value&&!p(a).coverImageUrl}])},[x.value||p(a).coverImageUrl?(d(),n("img",{key:0,src:x.value||F(p(a).coverImageUrl),alt:"Cover",class:"w-full h-full object-cover"},null,8,Io)):(d(),n("div",So,[o[30]||(o[30]=e("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-2 group-hover:text-brand-pink-dark transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("p",Vo,s(t.$t("profile.form.publicProfile.coverPhoto")||"Foto de portada"),1),o[31]||(o[31]=e("p",{class:"text-xs text-gray-400 mt-1"},"1500 x 500 px",-1))])),p(a).coverImageUrl&&!x.value?(d(),n("button",{key:2,type:"button",onClick:I(ie,["stop"]),class:"absolute top-3 right-3 p-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors opacity-0 group-hover:opacity-100"},[...o[32]||(o[32]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):v("",!0)],2),e("input",{ref:"coverImageInput",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",class:"hidden",onChange:se},null,544),e("div",zo,[e("div",Do,[e("div",{onClick:o[12]||(o[12]=r=>t.$refs.profilePictureInput.click()),class:G(["w-24 h-24 md:w-28 md:h-28 lg:w-32 lg:h-32 rounded-full border-4 border-white shadow-lg flex items-center justify-center cursor-pointer hover:shadow-xl transition-shadow group relative overflow-hidden",{"bg-gradient-to-br from-brand-pink-lighter to-purple-200":!k.value&&!p(a).profilePictureUrl}])},[k.value||p(a).profilePictureUrl?(d(),n("img",{key:0,src:k.value||F(p(a).profilePictureUrl),alt:"Profile",class:"w-full h-full object-cover"},null,8,Ao)):(d(),n("div",Bo,[...o[33]||(o[33]=[e("svg",{class:"w-10 h-10 text-gray-400 mx-auto group-hover:text-brand-pink-dark transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)])]))],2),o[35]||(o[35]=e("div",{class:"absolute bottom-0 right-0 md:bottom-1 md:right-1 w-7 h-7 md:w-8 md:h-8 bg-brand-pink-dark rounded-full flex items-center justify-center shadow-md hover:bg-brand-pink-medium transition-colors cursor-pointer"},[e("svg",{class:"w-3.5 h-3.5 md:w-4 md:h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),p(a).profilePictureUrl&&!k.value?(d(),n("button",{key:0,type:"button",onClick:I(ae,["stop"]),class:"absolute top-0 right-0 p-1.5 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors"},[...o[34]||(o[34]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):v("",!0)]),e("input",{ref:"profilePictureInput",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",class:"hidden",onChange:le},null,544),e("p",Ro,s(t.$t("profile.form.publicProfile.profilePhoto")||"Foto de perfil"),1)])]),o[36]||(o[36]=e("div",{class:"h-16 md:h-20"},null,-1))]),e("div",qo,[e("label",Eo,[z(s(t.$t("profile.form.basicInfo.username"))+" ",1),o[37]||(o[37]=e("span",{class:"text-red-500"},"*",-1))]),c(e("input",{id:"username","onUpdate:modelValue":o[13]||(o[13]=r=>l.value.username=r),type:"text",placeholder:t.$t("profile.form.placeholders.username"),class:"block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors",required:""},null,8,Oo),[[f,l.value.username]])]),e("div",null,[e("label",Fo,s(t.$t("profile.form.basicInfo.about")),1),c(e("textarea",{id:"about","onUpdate:modelValue":o[14]||(o[14]=r=>l.value.about=r),rows:"4",placeholder:t.$t("profile.form.placeholders.about"),class:"block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors resize-none"},null,8,To),[[f,l.value.about]])]),e("div",null,[e("label",Ho,s(t.$t("profile.form.gallery.title")),1),e("div",{onDragover:o[15]||(o[15]=I(()=>{},["prevent"])),onDrop:I(Q,["prevent"]),class:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center hover:border-brand-pink-dark transition-colors cursor-pointer",onClick:o[16]||(o[16]=r=>t.$refs.fileInput.click())},[e("div",No,[o[38]||(o[38]=e("svg",{class:"w-12 h-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),e("button",Wo,s(t.$t("profile.form.gallery.selectFiles")),1),e("p",Go,s(t.$t("profile.form.gallery.dropzone")),1),e("p",Ko,s(t.$t("profile.form.gallery.requirements")),1)]),(d(),n("input",{ref:"fileInput",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif",multiple:"",class:"hidden",onChange:J,key:O.value},null,32))],32),y.value.length>0?(d(),n("div",Jo,[e("h4",Qo,s(t.$t("profile.form.gallery.currentPhotos")),1),e("div",Xo,[(d(!0),n(j,null,M(y.value,r=>(d(),n("div",{key:r.id,class:"relative group"},[e("img",{src:Z(r.image),alt:r.caption||"Gallery photo",class:"w-full h-32 object-cover rounded-lg border border-gray-200"},null,8,Yo),e("div",Zo,[r.is_profile_picture?(d(),n("span",et," Profile ")):v("",!0),e("button",{type:"button",onClick:u=>ee(r.id),class:"p-1.5 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors opacity-0 group-hover:opacity-100"},[...o[39]||(o[39]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ot)]),r.caption?(d(),n("p",tt,s(r.caption),1)):v("",!0)]))),128))])])):v("",!0),m.value.length>0?(d(),n("div",rt,[e("h4",lt,s(t.$t("profile.form.gallery.newPhotos")),1),e("div",st,[(d(!0),n(j,null,M(m.value,(r,u)=>(d(),n("div",{key:u,class:"flex items-center gap-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200"},[o[41]||(o[41]=e("div",{class:"flex-shrink-0 w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",at,[e("p",it,s(r.name),1),e("p",nt,s(Y(r.size)),1)]),e("button",{type:"button",onClick:g=>X(u),class:"flex-shrink-0 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors"},[...o[40]||(o[40]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,dt)]))),128))])])):v("",!0)]),e("div",null,[e("label",ut,s(t.$t("profile.form.basicInfo.note")),1),c(e("textarea",{id:"note","onUpdate:modelValue":o[17]||(o[17]=r=>l.value.note=r),rows:"4",placeholder:t.$t("profile.form.placeholders.note"),class:"block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors resize-none"},null,8,ct),[[f,l.value.note]])]),e("div",pt,[e("label",ft,s(t.$t("profile.form.basicInfo.currentStatus")),1),c(e("input",{id:"current_status","onUpdate:modelValue":o[18]||(o[18]=r=>l.value.current_status=r),type:"text",placeholder:t.$t("profile.form.placeholders.currentStatus"),class:"block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors"},null,8,mt),[[f,l.value.current_status]])]),e("div",null,[e("div",gt,[e("label",vt,s(t.$t("profile.form.linktree.title")),1),e("button",{type:"button",onClick:oe,class:"w-6 h-6 bg-brand-pink-dark rounded-full flex items-center justify-center text-white hover:bg-brand-pink-medium transition-colors shadow-sm"},[...o[42]||(o[42]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])])]),(d(!0),n(j,null,M(l.value.links,(r,u)=>(d(),n("div",{key:u,class:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4 mb-3 md:mb-4"},[e("div",bt,[o[43]||(o[43]=e("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-500 text-sm"}," https:// ",-1)),c(e("input",{"onUpdate:modelValue":g=>r.url=g,type:"text",placeholder:t.$t("profile.form.linktree.urlPlaceholder"),class:"block w-full rounded-lg border border-gray-300 pl-20 pr-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors"},null,8,ht),[[f,r.url]])]),e("div",yt,[c(e("input",{"onUpdate:modelValue":g=>r.title=g,type:"text",placeholder:t.$t("profile.form.linktree.titlePlaceholder"),class:"flex-1 block w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors"},null,8,kt),[[f,r.title]]),l.value.links.length>1?(d(),n("button",{key:0,type:"button",onClick:g=>te(u),class:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors"},[...o[44]||(o[44]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,xt)):v("",!0)])]))),128))])])]),e("div",null,[e("h2",_t,s(t.$t("profile.form.preferences.title")),1),e("div",wt,[e("div",Ct,[e("label",$t,s(t.$t("profile.form.preferences.language")),1),e("div",Pt,[c(e("select",{id:"language","onUpdate:modelValue":o[19]||(o[19]=r=>D.value=r),onChange:ne,class:"block w-full rounded-lg border border-gray-300 px-4 py-3 pr-10 text-gray-900 focus:border-brand-pink-dark focus:ring-2 focus:ring-brand-pink-dark/20 transition-colors appearance-none cursor-pointer"},[...o[45]||(o[45]=[e("option",{value:"en"},"🇬🇧 English",-1),e("option",{value:"es"},"🇪🇸 Español",-1)])],544),[[R,D.value]]),o[46]||(o[46]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),e("p",Ut,s(t.$t("profile.form.preferences.languageHelp")),1)])])]),e("div",Lt,[e("button",{type:"submit",disabled:h.value,class:"w-full sm:w-auto px-6 md:px-8 py-2.5 md:py-3 bg-brand-pink-dark text-white font-medium text-sm md:text-base rounded-full hover:bg-brand-pink-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-comfortaa shadow-md"},s(h.value?t.$t("profile.form.buttons.loading"):t.$t("profile.form.buttons.save")),9,jt)])],32)]))}},qt=xe(Mt,[["__scopeId","data-v-e69e1c57"]]);export{qt as default};
