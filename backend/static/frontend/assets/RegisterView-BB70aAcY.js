import{u as P,p as j,q as $,r as g,c as l,o as a,a as e,d as h,t as d,s as V,v as w,x as k,y as v,b as f,w as B,e as S,f as q,k as E}from"../index.js";import{u as R}from"./authStore-tY-7-Xic.js";import{L}from"./LanguageSelector-vuDdTwQ1.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./constants-DjCFsGER.js";const F={class:"signup-view"},I={class:"signup-container"},U={class:"signup-card"},D={class:"welcome-section"},H={class:"welcome-title"},N={class:"input-group"},Z=["placeholder"],T={class:"input-group"},z=["placeholder"],G={class:"input-group"},J={class:"password-input-container"},K=["type","placeholder"],O={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W={class:"input-group"},X={class:"password-input-container"},Y=["type","placeholder"],ee={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oe=["disabled"],te={key:0},re={key:1,class:"loading-spinner"},ne={class:"signin-link"},ie={class:"signin-text"},le={__name:"RegisterView",setup(ae){const C=E(),_=R(),m=P(),{t:i}=j(),o=$({username:"",email:"",password:"",confirmPassword:""}),u=g(!1),p=g(!1),c=g(!1),y=()=>{u.value=!u.value},x=()=>{p.value=!p.value},M=()=>!o.username||!o.email||!o.password||!o.confirmPassword?(alert(i("signup.validation.fillAllFields")),!1):o.username.trim().length<3?(alert(i("signup.validation.usernameRequired")),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)?o.password.length<8?(alert(i("signup.validation.passwordLength")),!1):o.password!==o.confirmPassword?(alert(i("signup.validation.passwordsMatch")),!1):!0:(alert(i("signup.validation.validEmail")),!1),b=async()=>{var t,s;c.value=!0;try{if(!M())return;const n=await _.register({username:o.username.trim(),email:o.email.trim(),password:o.password,password_confirm:o.confirmPassword});if(n.success)C.push({path:`/${m.locale}/verification`,query:{email:o.email.trim()}});else{let r=i("signup.errors.signupFailed");(t=n.error)!=null&&t.email?r=i("signup.errors.emailExists"):(s=n.error)!=null&&s.username?r=i("signup.errors.usernameExists"):typeof n.error=="string"?r+=n.error:r+="Error desconocido",alert(r)}}catch(n){console.error("Signup error:",n),alert(i("signup.errors.signupFailed")+(n.message||"Error desconocido"))}finally{c.value=!1}};return(t,s)=>{const n=q("router-link");return a(),l("div",F,[s[10]||(s[10]=e("div",{class:"background-container"},[e("div",{class:"background-overlay"})],-1)),h(L,{position:"absolute",theme:"light"}),e("div",I,[e("div",U,[e("div",D,[e("h2",H,d(t.$t("signup.title")),1)]),e("form",{onSubmit:V(b,["prevent"]),class:"signup-form"},[e("div",N,[w(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>o.username=r),type:"text",placeholder:t.$t("signup.usernamePlaceholder"),class:"form-input",required:""},null,8,Z),[[k,o.username]])]),e("div",T,[w(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>o.email=r),type:"email",placeholder:t.$t("signup.emailPlaceholder"),class:"form-input",required:""},null,8,z),[[k,o.email]])]),e("div",G,[e("div",J,[w(e("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>o.password=r),type:u.value?"text":"password",placeholder:t.$t("signup.passwordPlaceholder"),class:"form-input password-input",required:"",minlength:"8"},null,8,K),[[v,o.password]]),e("button",{type:"button",onClick:y,class:"password-toggle"},[u.value?(a(),l("svg",Q,[...s[5]||(s[5]=[e("path",{d:"M9.88 9.88C9.31 10.45 9 11.2 9 12C9 13.66 10.34 15 12 15C12.8 15 13.55 14.69 14.12 14.12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("path",{d:"M10.73 5.08C11.15 5.03 11.57 5 12 5C19 5 23 12 23 12C22.18 13.65 20.69 15.12 18.8 16.17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("path",{d:"M6.61 6.61C4.62 7.96 3.1 9.89 2 12C2 12 6 20 12 20C13.26 20 14.44 19.65 15.5 19.07",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("line",{x1:"2",y1:"2",x2:"22",y2:"22",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(a(),l("svg",O,[...s[4]||(s[4]=[e("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])]))])])]),e("div",W,[e("div",X,[w(e("input",{"onUpdate:modelValue":s[3]||(s[3]=r=>o.confirmPassword=r),type:p.value?"text":"password",placeholder:t.$t("signup.confirmPasswordPlaceholder"),class:"form-input password-input",required:""},null,8,Y),[[v,o.confirmPassword]]),e("button",{type:"button",onClick:x,class:"password-toggle"},[p.value?(a(),l("svg",se,[...s[7]||(s[7]=[e("path",{d:"M9.88 9.88C9.31 10.45 9 11.2 9 12C9 13.66 10.34 15 12 15C12.8 15 13.55 14.69 14.12 14.12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("path",{d:"M10.73 5.08C11.15 5.03 11.57 5 12 5C19 5 23 12 23 12C22.18 13.65 20.69 15.12 18.8 16.17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("path",{d:"M6.61 6.61C4.62 7.96 3.1 9.89 2 12C2 12 6 20 12 20C13.26 20 14.44 19.65 15.5 19.07",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("line",{x1:"2",y1:"2",x2:"22",y2:"22",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(a(),l("svg",ee,[...s[6]||(s[6]=[e("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])]))])])]),e("button",{type:"submit",class:"submit-btn",disabled:c.value},[c.value?(a(),l("span",re,[s[8]||(s[8]=e("svg",{class:"animate-spin",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4","stroke-opacity":"0.25"}),e("path",{d:"M4 12C4 16.4183 7.58172 20 12 20V12H4Z",fill:"currentColor"})],-1)),f(" "+d(t.$t("signup.creatingAccount")),1)])):(a(),l("span",te,d(t.$t("signup.createAccountButton")),1))],8,oe)],32),e("div",ne,[e("span",ie,d(t.$t("signup.alreadyHave")),1),h(n,{to:`/${S(m).locale}/login`,class:"signin-link-text"},{default:B(()=>[f(d(t.$t("signup.signIn"))+" ",1),s[9]||(s[9]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7 17L17 7M17 7H7M17 7V17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),_:1},8,["to"])])])])])}}},ge=A(le,[["__scopeId","data-v-07ba311e"]]);export{ge as default};
