import{G as x,J as k,p as v,r as w,i as y,c as _,o as S,d as h,a as e,l as j,e as $,t as n,s as M,v as c,x as m,k as C}from"../index.js";import{u as P}from"./useAlert-P81MXwWp.js";import{N as V,F as E}from"./Footer-AvR3pCG0.js";import{b as q}from"./background_1-DA86kQ-Y.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./cartStore-VCuiRpOe.js";import"./transition-CHHvQteb.js";const z=x("contact",{state:()=>({isSubmitting:!1,lastSubmittedContact:null,error:null,successMessage:null}),actions:{async sendContactForm(l){var i,a,d,u,p;this.isSubmitting=!0,this.error=null,this.successMessage=null;try{const t=await k("contact/",l);if(t.data.success)return this.lastSubmittedContact=t.data.contact,this.successMessage=t.data.message,{success:!0,message:t.data.message,contact:t.data.contact};throw new Error("Unexpected response format")}catch(t){return((i=t.response)==null?void 0:i.status)===404?(this.error={general:"El servidor no está disponible. Por favor verifica que el backend esté corriendo en http://localhost:8000"},{success:!1,errors:this.error}):(d=(a=t.response)==null?void 0:a.data)!=null&&d.errors?(this.error=t.response.data.errors,{success:!1,errors:t.response.data.errors}):t.response?(this.error={general:((p=(u=t.response)==null?void 0:u.data)==null?void 0:p.message)||t.message||"Error al enviar el mensaje"},{success:!1,errors:this.error}):(this.error={general:"Error de conexión. Por favor verifica tu conexión a internet y que el backend esté corriendo."},{success:!1,errors:this.error})}finally{this.isSubmitting=!1}},clearState(){this.error=null,this.successMessage=null,this.lastSubmittedContact=null},reset(){this.isSubmitting=!1,this.lastSubmittedContact=null,this.error=null,this.successMessage=null}},getters:{hasErrors:l=>l.error!==null&&Object.keys(l.error).length>0,errorMessages:l=>{if(!l.error)return[];const i=[];for(const[a,d]of Object.entries(l.error))Array.isArray(d)?i.push(...d):i.push(d);return i}}}),U={class:"min-h-screen relative overflow-hidden flex flex-col"},I={class:"relative z-10 flex-1 flex items-center justify-center px-4 pt-32 md:pt-40 lg:pt-48 pb-8"},F={class:"w-full max-w-5xl"},N={class:"bg-white/40 backdrop-blur-lg rounded-xl md:rounded-2xl shadow-2xl p-4 md:p-6 lg:p-8"},A={class:"flex items-center justify-between mb-4 md:mb-6"},D={class:"text-xl md:text-2xl lg:text-3xl font-bold text-brand-dark font-comfortaa"},O=["aria-label"],T={class:"block text-brand-dark font-poppins font-medium text-xs md:text-sm mb-1"},R={for:"email",class:"block text-brand-dark font-poppins font-medium text-xs md:text-sm mb-1"},G=["placeholder"],H={for:"name",class:"block text-brand-dark font-poppins font-medium text-xs md:text-sm mb-1"},J=["placeholder"],L={for:"phone",class:"block text-brand-dark font-poppins font-medium text-xs md:text-sm mb-1"},K=["placeholder"],Q={for:"subject",class:"block text-brand-dark font-poppins font-medium text-xs md:text-sm mb-1"},W=["placeholder"],X={for:"message",class:"sr-only"},Y=["placeholder"],Z={class:"flex flex-col sm:flex-row justify-end gap-2 md:gap-3 pt-2"},ee=["disabled"],te={__name:"ContactView",setup(l){const i=C(),a=z(),{showSuccess:d,showError:u}=P(),{t:p}=v(),t=w({email:"",name:"",phone:"",subject:"",message:""}),b=y(()=>a.isSubmitting),f=()=>{i.back()},g=async()=>{a.clearState();const r={email:t.value.email,nombre:t.value.name,numero:t.value.phone||"",asunto:t.value.subject,texto:t.value.message};try{if((await a.sendContactForm(r)).success)await d(a.successMessage||"Tu mensaje ha sido enviado exitosamente. Te responderemos pronto."),t.value={email:"",name:"",phone:"",subject:"",message:""};else{const o=a.errorMessages.join(`
`);await u(o||"Hubo un error al enviar el mensaje. Por favor intenta de nuevo.")}}catch(s){console.error("Error sending message:",s),await u("Ocurrió un error inesperado. Por favor intenta de nuevo.")}};return(r,s)=>(S(),_("div",U,[h(V),e("div",{class:"absolute inset-0 z-0",style:j({backgroundImage:`url(${$(q)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"})},null,4),s[7]||(s[7]=e("div",{class:"absolute inset-0 z-0 bg-gradient-to-br from-brand-pink-lighter/30 via-brand-purple-light/20 to-brand-blue-light/30"},null,-1)),e("div",I,[e("div",F,[e("div",N,[e("div",A,[e("h1",D,n(r.$t("contact.title")),1),e("button",{onClick:f,class:"p-2 hover:bg-brand-pink-light/30 rounded-full transition-colors duration-200 flex-shrink-0","aria-label":r.$t("contact.goBack")},[...s[5]||(s[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-5 h-5 md:w-6 md:h-6 text-brand-dark"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1)])],8,O)]),e("form",{onSubmit:M(g,["prevent"]),class:"space-y-3 md:space-y-4"},[e("div",null,[e("label",T,n(r.$t("contact.for"))+": ",1),s[6]||(s[6]=e("div",{class:"text-brand-dark font-poppins text-xs md:text-sm bg-white/20 rounded-lg px-3 py-2"}," BuyIt4me (team@buyit4me.com) ",-1))]),e("div",null,[e("label",R,n(r.$t("contact.from"))+": ",1),c(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=o=>t.value.email=o),type:"email",required:"",placeholder:r.$t("contact.emailPlaceholder"),class:"w-full font-poppins !bg-transparent backdrop-blur-sm border-0 rounded-lg px-3 py-2 text-xs md:text-sm text-brand-dark placeholder-brand-dark/60 focus:outline-none focus:ring-2 focus:ring-brand-pink-dark/50 transition-all duration-200"},null,8,G),[[m,t.value.email]])]),e("div",null,[e("label",H,n(r.$t("contact.name"))+": ",1),c(e("input",{id:"name","onUpdate:modelValue":s[1]||(s[1]=o=>t.value.name=o),type:"text",required:"",placeholder:r.$t("contact.namePlaceholder"),class:"w-full font-poppins !bg-transparent backdrop-blur-sm border-0 rounded-lg px-3 py-2 text-xs md:text-sm text-brand-dark placeholder-brand-dark/60 focus:outline-none focus:ring-2 focus:ring-brand-pink-dark/50 transition-all duration-200"},null,8,J),[[m,t.value.name]])]),e("div",null,[e("label",L,n(r.$t("contact.number"))+": ",1),c(e("input",{id:"phone","onUpdate:modelValue":s[2]||(s[2]=o=>t.value.phone=o),type:"tel",placeholder:r.$t("contact.phonePlaceholder"),class:"w-full font-poppins !bg-transparent backdrop-blur-sm border-0 rounded-lg px-3 py-2 text-xs md:text-sm text-brand-dark placeholder-brand-dark/60 focus:outline-none focus:ring-2 focus:ring-brand-pink-dark/50 transition-all duration-200"},null,8,K),[[m,t.value.phone]])]),e("div",null,[e("label",Q,n(r.$t("contact.subject"))+": ",1),c(e("input",{id:"subject","onUpdate:modelValue":s[3]||(s[3]=o=>t.value.subject=o),type:"text",required:"",placeholder:r.$t("contact.subjectPlaceholder"),class:"w-full font-poppins !bg-transparent backdrop-blur-sm border-0 rounded-lg px-3 py-2 text-xs md:text-sm text-brand-dark placeholder-brand-dark/60 focus:outline-none focus:ring-2 focus:ring-brand-pink-dark/50 transition-all duration-200"},null,8,W),[[m,t.value.subject]])]),e("div",null,[e("label",X,n(r.$t("contact.message")),1),c(e("textarea",{id:"message","onUpdate:modelValue":s[4]||(s[4]=o=>t.value.message=o),rows:"4",required:"",placeholder:r.$t("contact.messagePlaceholder"),class:"w-full font-poppins !bg-transparent backdrop-blur-sm border-0 rounded-lg px-3 py-2 text-xs md:text-sm text-brand-dark placeholder-brand-dark/60 focus:outline-none focus:ring-2 focus:ring-brand-pink-dark/50 transition-all duration-200 resize-none"},null,8,Y),[[m,t.value.message]])]),e("div",Z,[e("button",{type:"button",onClick:f,class:"w-full sm:w-auto px-6 py-2 rounded-full text-xs md:text-sm text-brand-dark font-poppins font-medium hover:bg-white/40 transition-all duration-200 order-2 sm:order-1"},n(r.$t("contact.cancel")),1),e("button",{type:"submit",disabled:b.value,class:"w-full sm:w-auto px-6 py-2 rounded-full text-xs md:text-sm bg-brand-blue-medium text-white font-poppins font-medium hover:bg-brand-blue-medium/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl order-1 sm:order-2"},n(b.value?r.$t("contact.sending"):r.$t("contact.send")),9,ee)])],32)])])]),h(E)]))}},de=B(te,[["__scopeId","data-v-3e5c6bcd"]]);export{de as default};
