import{u as M,r as k,l as F,c as i,b as r,d as e,q as N,n as E,k as D,Q as j,t as l,j as b,F as w,i as $,y as V,S as H,m as S,C as z,o as R,E as W,p as Y,z as O,g as x,e as J,s as Q,f as P}from"./index.OMjhQo4e.js";import{u as L}from"./crushStore.1OBCFDwV.js";import{N as G,F as X}from"./Footer.Dv6QWh1h.js";import{P as Z}from"./ProductCard.ASTk4-A3.js";import{_ as I}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./cartStore.5gDApDey.js";import"./transition.BR4qz9cf.js";import"./authStore.BS2vjGsx.js";import"./constants.DjCFsGER.js";import"./profileStore.BhMJoLTZ.js";import"./wishlistStore.BRry0sWr.js";const ee={class:"public-profile"},se={class:"profile-header"},oe={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},te={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ae={class:"share-text"},re=["src","alt"],ie={class:"profile-content"},le={class:"profile-info"},ne={class:"profile-username"},ce={class:"biography-section"},de={class:"section-title"},ue={class:"biography-text"},he={class:"three-column-grid"},pe={class:"links-section"},me={class:"section-title"},ve={class:"links-buttons"},ge=["href"],_e={class:"info-card"},ye={class:"section-title"},fe={class:"info-text"},be={class:"info-card"},ke={class:"section-title"},we={class:"info-text"},$e={key:0,class:"gallery-section"},xe={class:"section-title"},Ce={class:"gallery-grid"},Pe=["onClick"],Se=["src","alt"],Ie={key:1,class:"wishlists-section"},Te={class:"section-title"},De={class:"space-y-4"},Me={class:"p-4 md:p-6"},Fe={class:"flex items-center justify-between gap-3 mb-3"},Le={class:"text-base md:text-lg font-semibold text-gray-900 flex-shrink-0"},Be=["onClick"],Ne={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 mb-3"},Ee=["onClick"],je=["onClick"],Ve={class:"text-sm text-gray-600 mb-2"},ze={class:"text-xs text-gray-500"},Re={key:0,class:"px-4 md:px-6 pb-4 md:pb-6"},We={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ae={key:1,class:"mt-2"},Ke={class:"text-xs text-gray-600 italic"},Ue={key:1,class:"text-sm text-gray-500 text-center py-8"},qe=["src"],He={__name:"PublicProfile",props:{profileData:{type:Object,default:()=>({avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400",coverImage:null,name:"Mary Jackson",username:"@username",biography:`Hi! I'm [Your Name], a friendly, upbeat webcam model who loves good conversation, cozy vibes, and a touch of playful energy. On my shows you'll find smiles, laughter, and a welcoming space where we can relax, chat, and enjoy the moment together. I'm into [interests: gaming/fitness/cosplay/music], so don't be shy about asking questions or sharing what you love too.

I value respect and positive energy. Please be polite, keep requests within platform rules, and remember I don't do meetupsâ€”everything stays online and between consenting adults (18+). Tips and requests help me create more content and upgrade my setup, and I'm always grateful for your support.

Schedule: [Days/Times] ([Timezone]).
What to expect: friendly chats, playful banter, themed outfits, and interactive goals.
Support: follows, tips, and kind words mean the worldâ€”thank you!
Hit follow, turn on notifications, and say hi when you join. Let's make great memories together. ðŸ’«`,links:[{label:"Instagram",color:"#C77DFF"},{label:"Facebook",color:"#C77DFF"},{label:"Stream",color:"#C77DFF"}],state:"Sweet smiles, playful vibesâ€”come say hi âœ¨",notes:"Welcome to my room! This is a respectful, 18+ space. I don't do meetups or off-platform chats, and I follow site rules. Tips and kind words keep the show going and help upgrade my setup. Custom requests? Ask first and be polite. Schedule: [Days/Times, Timezone]. Thanks for being sweet and supportive! ðŸ’«",gallery:["https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400","https://images.unsplash.com/photo-1488716820095-cbe80883c496?w=400","https://images.unsplash.com/photo-1517841905240-472988babdf9?w=400","https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=400","https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=400","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400","https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400","https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=400","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400","https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=400"],wishlists:[],items:[]})}},setup(C){const y=S();z();const d=M(),m=k([]),u=k(!1),p=k(!1),g=k(""),h=C,s=F(()=>h.profileData||{}),a=t=>t?Number(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",n=t=>{const o=m.value.indexOf(t);o>-1?m.value.splice(o,1):m.value.push(t)},_=t=>{var o,c;return{id:t.woocommerce_product_id,name:t.product_name,price:t.product_price,images:((o=t.product_info)==null?void 0:o.images)||[{src:t.product_image}],stock_status:((c=t.product_info)==null?void 0:c.stock_status)||"instock",...t.product_info}},f=t=>{y.push({name:`ProductDetail-${d.locale}`,params:{id:t}})},A=t=>{console.log("Product added to cart from wishlist:",t)},K=async()=>{try{const t=window.location.href;await navigator.clipboard.writeText(t),u.value=!0,console.log("âœ… Link copiado al portapapeles:",t),setTimeout(()=>{u.value=!1},2e3)}catch(t){console.error("âŒ Error copiando link:",t);try{const o=document.createElement("textarea");o.value=window.location.href,o.style.position="fixed",o.style.left="-999999px",document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),u.value=!0,setTimeout(()=>{u.value=!1},2e3)}catch(o){console.error("âŒ Fallback tambiÃ©n fallÃ³:",o)}}},U=t=>{const o=t.shareable_path;o?(console.log("ðŸŽ Navigating to wishlist:",o),y.push(o)):console.error("âŒ No shareable_path found in wishlist:",t)},q=async t=>{try{const o=t.public_url||`${window.location.origin}${t.shareable_path}`;await navigator.clipboard.writeText(o),console.log("âœ… Wishlist link copied:",o),alert("Wishlist link copied to clipboard!")}catch(o){console.error("âŒ Error copying wishlist link:",o)}},T=t=>{g.value=t,p.value=!0,document.body.style.overflow="hidden"},B=()=>{p.value=!1,g.value="",document.body.style.overflow=""};return(t,o)=>(r(),i("div",ee,[e("div",se,[e("div",{class:D(["header-gradient",{"has-cover":s.value.coverImage,"cursor-pointer":s.value.coverImage}]),style:E(s.value.coverImage?{backgroundImage:`url(${s.value.coverImage})`}:{}),onClick:o[0]||(o[0]=c=>s.value.coverImage&&T(s.value.coverImage))},null,6),e("button",{class:D(["share-button",{copied:u.value}]),onClick:K},[u.value?(r(),i("svg",te,[...o[4]||(o[4]=[e("polyline",{points:"20 6 9 17 4 12"},null,-1)])])):(r(),i("svg",oe,[...o[3]||(o[3]=[j('<circle cx="18" cy="5" r="3" data-v-48f8d96e></circle><circle cx="6" cy="12" r="3" data-v-48f8d96e></circle><circle cx="18" cy="19" r="3" data-v-48f8d96e></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49" data-v-48f8d96e></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49" data-v-48f8d96e></line>',5)])])),e("span",ae,l(u.value?t.$t("diaries.publicProfile.linkCopied"):t.$t("diaries.publicProfile.share")),1)],2),e("div",{class:"avatar-container cursor-pointer",onClick:o[1]||(o[1]=c=>T(s.value.avatar))},[e("img",{src:s.value.avatar,alt:s.value.name,class:"avatar-image"},null,8,re)])]),e("div",ie,[e("div",le,[e("h1",ne,l(s.value.username),1)]),e("div",ce,[e("h3",de,l(t.$t("diaries.publicProfile.biography")),1),e("div",ue,l(s.value.biography),1)]),e("div",he,[e("div",pe,[e("h3",me,l(t.$t("diaries.publicProfile.myLinks")),1),e("div",ve,[(r(!0),i(w,null,$(s.value.links,(c,v)=>(r(),i("a",{key:v,href:c.url,target:"_blank",rel:"noopener noreferrer",class:"link-button",style:E({backgroundColor:c.color||"#C77DFF"})},l(c.label),13,ge))),128))])]),e("div",_e,[e("h3",ye,l(t.$t("diaries.publicProfile.myState")),1),e("p",fe,l(s.value.state),1)]),e("div",be,[e("h3",ke,l(t.$t("diaries.publicProfile.notes")),1),e("p",we,l(s.value.notes),1)])]),s.value.gallery&&s.value.gallery.length>0?(r(),i("div",$e,[e("h3",xe,l(t.$t("diaries.publicProfile.gallery")),1),e("div",Ce,[(r(!0),i(w,null,$(s.value.gallery,(c,v)=>(r(),i("div",{key:v,class:"gallery-item cursor-pointer",onClick:As=>T(c)},[e("img",{src:c,alt:`${t.$t("diaries.publicProfile.galleryImageAlt")} ${v+1}`,class:"gallery-image"},null,8,Se)],8,Pe))),128))])])):b("",!0),s.value.wishlists&&s.value.wishlists.length>0?(r(),i("div",Ie,[e("h3",Te,l(t.$t("diaries.publicProfile.wishlists")),1),e("div",De,[(r(!0),i(w,null,$(s.value.wishlists,c=>(r(),i("div",{key:c.id,class:"wishlist-card border-2 border-gray-900 rounded-2xl overflow-hidden"},[e("div",Me,[e("div",Fe,[e("h3",Le,l(c.name),1),e("button",{onClick:v=>n(c.id),class:"p-2 hover:bg-gray-100 rounded-full transition-colors flex-shrink-0"},[(r(),i("svg",{class:D(["w-5 h-5 text-gray-600 transition-transform",{"rotate-180":m.value.includes(c.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...o[5]||(o[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,Be)]),e("div",Ne,[e("button",{onClick:v=>q(c),class:"wishlist-action-btn copy-btn"},[...o[6]||(o[6]=[j('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-48f8d96e><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" data-v-48f8d96e></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" data-v-48f8d96e></path></svg><span class="hidden sm:inline" data-v-48f8d96e>Copy wishlist link</span><span class="sm:hidden" data-v-48f8d96e>Copy link</span>',3)])],8,Ee),e("button",{onClick:v=>U(c),class:"wishlist-action-btn buy-btn"},[...o[7]||(o[7]=[e("span",{class:"hidden sm:inline"},"Buy my wishlist",-1),e("span",{class:"sm:hidden"},"Buy wishlist",-1)])],8,je)]),e("div",null,[e("p",Ve,l(c.description||t.$t("diaries.publicProfile.noDescription")),1),e("p",ze,l(c.total_items)+" "+l(t.$t("diaries.publicProfile.wishlistItems"))+" Â· $"+l(a(c.total_value)),1)])]),m.value.includes(c.id)?(r(),i("div",Re,[c.items&&c.items.length>0?(r(),i("div",We,[(r(!0),i(w,null,$(c.items,v=>(r(),i("div",{key:v.id,class:"relative"},[v.product_info?(r(),N(Z,{key:0,product:_(v),"gift-mode":!0,"recipient-username":s.value.username,onNavigateToProduct:f,onAddToCart:A},null,8,["product","recipient-username"])):b("",!0),v.notes?(r(),i("div",Ae,[e("p",Ke,"ðŸ’­ "+l(v.notes),1)])):b("",!0)]))),128))])):(r(),i("div",Ue,[o[8]||(o[8]=e("svg",{class:"w-16 h-16 mx-auto mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)),e("p",null,l(t.$t("diaries.publicProfile.noProductsYet")),1)]))])):b("",!0)]))),128))])])):b("",!0)]),(r(),N(H,{to:"body"},[p.value?(r(),i("div",{key:0,class:"image-modal-overlay",onClick:B},[e("div",{class:"image-modal-content",onClick:o[2]||(o[2]=V(()=>{},["stop"]))},[e("button",{class:"image-modal-close",onClick:B,"aria-label":"Close"},[...o[9]||(o[9]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])]),e("img",{src:g.value,alt:"Full size image",class:"image-modal-img"},null,8,qe)])])):b("",!0)]))]))}},Ye=I(He,[["__scopeId","data-v-48f8d96e"]]),Oe={class:"you-may-know"},Je={class:"component-title"},Qe={key:0,class:"loading-state"},Ge={class:"loading-text"},Xe={key:1,class:"error-state"},Ze={class:"error-text"},es={key:2,class:"empty-state"},ss={class:"empty-text"},os={key:3,class:"users-list"},ts=["onClick"],as={class:"user-avatar"},rs=["src","alt"],is={class:"user-info"},ls={class:"user-name"},ns=["onClick"],cs={__name:"YouMayKnow",setup(C){const y=S(),d=L(),m=M(),u=k(!1),p=k(null),g=F(()=>d.crushList.slice(0,5));R(async()=>{if(d.crushList.length>0){console.log("âœ… Crushes ya cargados, usando cachÃ©");return}u.value=!0,p.value=null;try{await d.fetchCrushList(5,0),console.log("âœ… Crushes loaded in YouMayKnow")}catch(s){console.error("âŒ Error loading crushes:",s),p.value=s.message||"Error al cargar crushes"}finally{u.value=!1}});const h=s=>{console.log("ðŸ” Navegando al perfil de crush:",s);const a=m.locale;y.push(`/${a}/diaries/@${s}`),window.scrollTo({top:0,behavior:"smooth"})};return(s,a)=>(r(),i("div",Oe,[e("h2",Je,l(s.$t("diaries.youMayKnow.title")),1),u.value?(r(),i("div",Qe,[a[0]||(a[0]=e("div",{class:"loading-spinner"},null,-1)),e("p",Ge,l(s.$t("diaries.youMayKnow.loading")),1)])):p.value?(r(),i("div",Xe,[e("p",Ze,l(p.value),1)])):g.value.length===0?(r(),i("div",es,[e("p",ss,l(s.$t("diaries.youMayKnow.noCrushes")),1)])):(r(),i("div",os,[(r(!0),i(w,null,$(g.value,n=>(r(),i("div",{key:n.id,class:"user-item",onClick:_=>h(n.username)},[e("div",as,[e("img",{src:n.profile_picture_url||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200",alt:n.username,class:"avatar-img"},null,8,rs)]),e("div",is,[e("h3",ls,"@"+l(n.username),1),a[1]||(a[1]=e("p",{class:"user-description"},[e("span",{class:"crush-dot"}),e("span",{class:"crush-text"},"Crush")],-1))]),e("button",{class:"watch-button",onClick:V(_=>h(n.username),["stop"])},l(s.$t("diaries.youMayKnow.viewProfile")),9,ns)],8,ts))),128))]))]))}},ds=I(cs,[["__scopeId","data-v-7c82d9d5"]]),us={class:"user-search"},hs={class:"search-container"},ps=["placeholder"],ms={key:0,class:"loading-state"},vs={class:"loading-text"},gs={key:1,class:"empty-state"},_s={class:"empty-text"},ys={key:2,class:"empty-state"},fs={class:"empty-text"},bs={key:3,class:"users-list"},ks=["onClick"],ws={class:"user-avatar"},$s=["src","alt"],xs={class:"user-info"},Cs={class:"username-container"},Ps={class:"username"},Ss={key:0,class:"crush-label"},Is={__name:"UserSearch",setup(C){const y=S(),d=L(),m=M(),u=k("");let p=null;W(u,h=>{if(p&&clearTimeout(p),!h.trim()){d.clearSearch();return}p=setTimeout(async()=>{try{await d.searchUsers(h.trim(),10)}catch(s){console.error("Error searching users:",s)}},300)});const g=h=>{console.log("ðŸ” Navegando al perfil de:",h),u.value="",d.clearSearch();const s=m.locale;y.push(`/${s}/diaries/@${h}`),window.scrollTo({top:0,behavior:"smooth"})};return(h,s)=>(r(),i("div",us,[e("div",hs,[s[1]||(s[1]=e("svg",{class:"search-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM18 18l-4.35-4.35",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),Y(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>u.value=a),type:"text",placeholder:h.$t("diaries.userSearch.placeholder"),class:"search-input"},null,8,ps),[[O,u.value]])]),x(d).isSearching?(r(),i("div",ms,[s[2]||(s[2]=e("div",{class:"loading-spinner"},null,-1)),e("p",vs,l(h.$t("diaries.userSearch.searching")),1)])):u.value.trim()?x(d).searchResults.length===0?(r(),i("div",ys,[s[4]||(s[4]=e("svg",{class:"empty-icon",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e("line",{x1:"9",y1:"9",x2:"15",y2:"15"})],-1)),e("p",fs,l(h.$t("diaries.userSearch.noResults")),1)])):(r(),i("div",bs,[(r(!0),i(w,null,$(x(d).searchResults,a=>(r(),i("div",{key:a.id,class:"user-item",onClick:n=>g(a.username)},[e("div",ws,[e("img",{src:a.profile_picture_url||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200",alt:a.username,class:"avatar-img"},null,8,$s)]),e("div",xs,[e("div",Cs,[e("span",Ps,"@"+l(a.username),1),a.is_crush?(r(),i("span",Ss,[...s[5]||(s[5]=[e("span",{class:"crush-dot"},null,-1),J(" Crush ",-1)])])):b("",!0)])])],8,ks))),128))])):(r(),i("div",gs,[s[3]||(s[3]=e("svg",{class:"empty-icon",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.35-4.35"})],-1)),e("p",_s,l(h.$t("diaries.userSearch.startTyping")),1)]))]))}},Ts=I(Is,[["__scopeId","data-v-783e9db0"]]),Ds={class:"diaries-view"},Ms={class:"min-h-screen bg-brand-pink-lighter pt-20 md:pt-28 lg:pt-32 pb-12 md:pb-16"},Fs={class:"container mx-auto px-4 md:px-6 lg:px-4"},Ls={key:0,class:"loading-container"},Bs={class:"loading-text"},Ns={key:1,class:"error-container"},Es={class:"error-text"},js={key:2,class:"diaries-grid"},Vs={class:"search-column"},zs={class:"you-may-know-column"},Rs={class:"profile-column"},Ws={__name:"DiariesView",props:{username:{type:String,default:null}},setup(C){const y=C,d=L(),m=z(),u=S(),{t:p}=Q(),g=F(()=>{var n,_;const a=d.crushProfile||d.randomCrush;return a?{avatar:a.profile_picture_url||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400",coverImage:a.cover_image_url||null,name:a.username,username:`@${a.username}`,biography:a.about||p("diaries.publicProfile.defaultBiography"),links:((n=a.links)==null?void 0:n.map(f=>({label:f.title||f.platform,color:"#C77DFF",url:f.url})))||[],state:a.current_status||"Online",notes:a.note||"",gallery:((_=a.gallery_photos)==null?void 0:_.map(f=>f.image))||[],wishlists:a.public_wishlists||[]}:null});async function h(){const a=y.username||m.params.username;if(a)try{await d.fetchPublicProfile(a),console.log(`âœ… Perfil de @${a} cargado en DiariesView`)}catch(n){console.error(`âŒ Error cargando perfil de @${a}:`,n)}else try{const n=await d.fetchRandomCrush();if(console.log("âœ… Crush aleatorio cargado en DiariesView"),n&&n.username){const _=m.path.split("/")[1]||"en";u.replace(`/${_}/diaries/@${n.username}`),console.log(`ðŸ”— URL actualizada a: /${_}/diaries/@${n.username}`)}}catch(n){console.error("âŒ Error cargando crush aleatorio:",n)}}async function s(){try{await d.fetchRandomCrush(),console.log("âœ… Crush aleatorio cargado en DiariesView")}catch(a){console.error("âŒ Error cargando crush aleatorio:",a)}}return W(()=>m.params.username,(a,n)=>{a&&a!==n&&h()}),R(()=>{h()}),(a,n)=>(r(),i("div",Ds,[P(G),e("main",Ms,[e("div",Fs,[x(d).isLoading?(r(),i("div",Ls,[n[0]||(n[0]=e("div",{class:"loading-spinner"},null,-1)),e("p",Bs,l(a.$t("diaries.publicProfile.loading")),1)])):x(d).error?(r(),i("div",Ns,[e("p",Es,l(x(d).error),1),e("button",{onClick:s,class:"retry-button"},l(a.$t("diaries.publicProfile.retry")),1)])):(r(),i("div",js,[e("div",Vs,[P(Ts)]),e("div",zs,[P(ds)]),e("div",Rs,[P(Ye,{"profile-data":g.value},null,8,["profile-data"])])]))])]),P(X)]))}},eo=I(Ws,[["__scopeId","data-v-d92ac8fd"]]);export{eo as default};
